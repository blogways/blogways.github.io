<!DOCTYPE html>
<html lang='zh-CN'>
<head>
    <title>Java SE 7 Third Edition 规范翻译之－数组_博汇网_www.blogways.net</title>
    <meta name=keywords content="java7, jsl7, Arrays">
    
    <meta name=description content="最近突然想看看Java7编程规范，本来想从网上直接找找看有没有已经翻译好的，结果下了几个发现跟英文版的大部分都对应不起来，所以打算把自己感兴趣的章节翻译一下，顺便练习下英语了~。顺便说下我参考的是The Java® Language Specification Java SE 7 Third Edition这个规范来翻译的。">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src='/js/jquery-2.1.1.js'></script>
    <link rel='stylesheet' type='text/css' href='/bootstrap/css/bootstrap.css'>
    <link rel='stylesheet' type='text/css' href='/bootstrap/css/bootstrap-theme.css'>
    <link rel='stylesheet' type='text/css' href='/css/app.css'>
    <script src='/bootstrap/js/bootstrap.js'></script>
    <script src='/js/app.js'></script>
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?ac29e786ae4e5463b445f1e0ad1f1d1e";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body style='background-color: #f5f5f5;'>
    <div class='totop visible-lg visible-md visible-sm hidden-xs'>
        <a id='to-top' href='javascript:void(0)'>
            <span id='to-top-title'>返回</br>顶部</span>
        </a>
    </div>
    <div class='totop-xs hidden-lg hidden-md hidden-sm visible-xs'>
        <a id='to-top-xs' href='javascript:void(0)'>
            <span id='to-top-title-xs'>返回</br>顶部</span>
        </a>
    </div>
    <div class='headerbar'>
            <div class='navbar navbar-default navbar-fixed-top' role='navigation'>
        <div class='containr-fluid'>
            <div class='navbar-header'>
                <button type='button' class='navbar-toggle collapsed' data-toggle='collapse' data-target='#bw-navbar-collapse'>
                    <span class='sr-only'>下拉框</span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                </button>
                <a class='navbar-brand' href='/'>Blog<span>ways</span></a>
            </div>
            <div class='navbar-collapse collapse' id='bw-navbar-collapse'>
                <ul class='nav navbar-nav'>
                    <li><a href='/'>主页</a></li>
                    <li class='divider visible-xs'></li>
                    
                    <li class='dropdown visible-sm visible-xs'>
                        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>热门分类
                            <span class='caret'></span>
                        </a>
                        <ul class='dropdown-menu cate-drop-menu' role='menu'>
                            
                            <li>
                                <a href='/categories/Jekyll/'>Jekyll
                                    <span class='badge pull-right'>4</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/杂记/'>杂记
                                    <span class='badge pull-right'>28</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/JUnit/'>JUnit
                                    <span class='badge pull-right'>8</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/NoSQL/'>NoSQL
                                    <span class='badge pull-right'>11</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Sencha/'>Sencha
                                    <span class='badge pull-right'>5</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Nginx/'>Nginx
                                    <span class='badge pull-right'>4</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Apache/'>Apache
                                    <span class='badge pull-right'>10</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Node.js/'>Node.js
                                    <span class='badge pull-right'>7</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Express/'>Express
                                    <span class='badge pull-right'>14</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/jQuery/'>jQuery
                                    <span class='badge pull-right'>21</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Java/'>Java
                                    <span class='badge pull-right'>8</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Solr/'>Solr
                                    <span class='badge pull-right'>6</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/WordPress/'>WordPress
                                    <span class='badge pull-right'>3</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/drupal/'>drupal
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/joomla/'>joomla
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/design/'>design
                                    <span class='badge pull-right'>5</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Web前端/'>Web前端
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/keepalived/'>keepalived
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/iot/'>iot
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/web前端/'>web前端
                                    <span class='badge pull-right'>15</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/交互设计/'>交互设计
                                    <span class='badge pull-right'>6</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Spring/'>Spring
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/web后端/'>web后端
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/git/'>git
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/索引/'>索引
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/storm/'>storm
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Python/'>Python
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/nodejs/'>nodejs
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class='dropdown'>
                        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>关于我们
                            <span class='caret'></span>
                        </a>
                        <ul class='dropdown-menu' role='menu'>
                            <li><a href='/about.html'>所有信息</a></li>
                            <li class='divider'></li>
                            <li><a href='/authors/chenfan/'>陈凡</a></li>
                            <li><a href='/authors/chenwt/'>陈文婷</a></li>
                            <li><a href='/authors/fukui/'>付奎</a></li>
                            <li><a href='/authors/huangmai/'>黄劢</a></li>
                            <li><a href='/authors/huqinghai/'>胡青海</a></li>
                            <li><a href='/authors/jacky/'>Jacky</a></li>
                            <li><a href='/authors/jyjsjd/'>景阳</a></li>
                            <li><a href='/authors/liuyiwei/'>刘益伟</a></li>
                            <li><a href='/authors/tangshizhong/'>汤仕忠</a></li>
                            <li><a href='/authors/tangzhi/'>唐治</a></li>
                            <li><a href='/authors/wangdong/'>王栋</a></li>
                            <li><a href='/authors/wanghui/'>汪回</a></li>
                            <li><a href='/authors/xuwannian/'>徐万年</a></li>
                            <li><a href='/authors/wanzhou/'>万洲</a></li>
                            <li><a href='/authors/zhangke/'>张可</a></li>
                            <li><a href='/authors/zhangshaoyong/'>张少勇</a></li>
                            <li><a href='/authors/zhaojiajun/'>赵家君</a></li>
                        </ul>
                    </li>
                    <li><a href='https://github.com/blogways/blogways.github.io' title='https://github.com/blogways/blogways.github.io' target='_blank'>联系我们</a></li>
                </ul>
                <!--<form class="navbar-form navbar-right hidden-sm hidden-xs" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search">
                            <button type="submit" class="btn btn-default">Submit</button>
                    </div>
                </form>-->
                <p class="navbar-text navbar-right hidden-sm hidden-xs"><small>汇集优秀博文(关注:敏捷开发/WEB开发/移动终端开发/NOSQL/云计算...)尽在</small><a href="/" class="navbar-link">Blogways</a>!</p>
            </div>
        </div>    
    </div>

    </div>
        <script>
        $(document).ready(function(){
            (function(){
                $.getJSON("/authors.json",function(mJSON){
                    $.each( mJSON , function( i , item ){
                        var name = item.name.toLowerCase().replace(" ","") || "";
                        var page_name = "Jacky".toLowerCase().replace(" ","");
                        var num = item.articles.length || 0;
                        if(name == page_name){
                            $("#pt-article-num").append( num + " 篇博文" );
                        }
                    });
                });
            })();
        });
    </script>

    <div class='container'>
        <div class='row main-content'>
            <div class='col-md-9 col-sm-12 col-xs-12 mainbar'>
                <div class='pt-article'>
                    <div class='panel panel-default pt-article-extra'>
                        <div class='panel-body'>
                            <div class='pt-article-pn row'>
                                
                                <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                    <span>上一篇:
                                        <a href='/blog/2015/05/07/solr-usage-6.html' title='Solr 应用（六）－API 操作'>Solr 应用（六）－API 操作</a>
                                    </span>
                                </div>
                                
                                
                                <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                    <span class='pull-right hidden-sm hiden-xs visible-lg visible-md'>下一篇:
                                        <a href='/blog/2015/06/09/git-gitolite.html' title='git权限管理工具gitolite使用教程'>git权限管理工具gitolite使用教程</a>
                                    </span>
                                    <span class='hidden-lg hiden-md visible-sm visible-xs'>下一篇:
                                        <a href='/blog/2015/06/09/git-gitolite.html' title='git权限管理工具gitolite使用教程'>git权限管理工具gitolite使用教程</a>
                                    </span>
                                </div>
                                
                            </div><!--end of article-pn-->
                            <hr class='hidden-sm hidden-xs'>
                            <div class='pt-article-info'>
                                <div class='pt-article-title'>
                                    <h2>Java SE 7 Third Edition 规范翻译之－数组
                                        <small class='pt-article-date hidden-xs'>
                                            <span class='glyphicon glyphicon-calendar'></span>&nbsp;
                                            <span class='sr-only'>发布于&nbsp;:&nbsp;</span>2015-06-01
                                        </small>
                                    </h2>
                                </div>
                                <div class='row pt-article-tags'>
                                    <div class='col-xs-12 post-tags'>
                                        <span class='glyphicon glyphicon-tags'></span>&nbsp;
                                        
                                        <a class='label label-info' href='#'>java7</a>
                                        
                                        、
                                        
                                        <a class='label label-info' href='#'>jsl7</a>
                                        
                                        、
                                        
                                        <a class='label label-info' href='#'>Arrays</a>
                                        
                                        
                                    </div>
                                </div>
                                <div class='pt-article-tags'>
                                    分类: <a class='label label-info' href='/categories//'></a>
                                </div>
                                <div class='pt-article-tags'>
                                    <!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
<a class="bds_qzone"></a>
<a class="bds_tsina"></a>
<a class="bds_tqq"></a>
<a class="bds_renren"></a>
<a class="bds_t163"></a>
<span class="bds_more"></span>
<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=59150" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='pt-article-main'>
                        <div class='panel panel-default'>
                            <div class='panel-body'>
                                <div class='pt-article-content'>
                                    <h1 id="java-se-7-third-edition-规范翻译之数组">Java SE 7 Third Edition 规范翻译之－数组</h1>

<p>在 Java 编程语言中，数组是动态创建的对象(§4.3.1)，并且可以分配给 Object 类型的变量。类对象的所有方法可以基于数组调用。</p>

<p>一个数组对象包含特定数值个变量。这个数值可以是0，但如果这也就意味着数组为空。数组中的变量没有变量名；相反他们通过使用非负整数索引值来访问数组引用的表达式。假设一个数组拥有n个元素，那么我们说这个数组的长度就是n；数组的这些元素使用整数下标引用从0到n-1。</p>

<p>数组内所有的元素拥有统一的类型，称为数组的元素类型。假设数组的元素类型是T，那么这个类型的数组定义成T[]。</p>

<p>对于浮点数类型的数组元素始终是浮点数类型值集(§4.2.3)；同样的，对于双精度类型的数组元素始终是双精度类型值集。不允许浮点数类型的数组的元素不是浮点数类型的值集，同样不允许双精度类型的数组的元素不是双精度类型的值集。</p>

<p>一个数组元素类型的本身可以是数组类型。这种数组元素可以包含子数组的引用。假设开始于任何数组类型，考虑到其元素类型，然后子数组的元素类型，以至类推，最终必须有子数组的元素类型不是数组类型；这个就是原始数组的元素类型，并且这一层的数组结构的元素被称为原始数组。</p>

<p>在某些情况下，一个数组的元素可以是一个数组：当这个元素的类型是对象或者Cloneable或者java.io.Serializable，那么部分或者所有的元素均可以是数组，因为任何数组对象都可以指定这些类型的变量。</p>

<h2 id="101-array-types">10.1 Array Types</h2>

<p>数组类型用于声明和映射表达式中(§15.16)。</p>

<p>数组类型写法遵循一个元素类型后面跟一些空的方括号[]。方括号的数量表示数组的维度。</p>

<p>数组的长度不是类型的一部分。</p>

<p>数组元素的类型可以是任意类型，是原始数据类型或者引用类型。特别是：</p>

<ul>
  <li>数组拥有一个接口类型作为允许的元素类型。该数组元素可以是它的值的空引用或者任意实现该接口的类型实例。</li>
  <li>数组允许一个抽象类做为其元素类型。该数组的元素可以是它的值的空引用或者是抽象类实现子类的实例。</li>
</ul>

<p>数组类型的父类型在§4.10.3规定。
数组类型的父类是Object。
每一个数组都实现了Cloneable和java.io.Serializable接口。</p>

<h2 id="102-array-variables">10.2 Array Variables</h2>

<p>数组类型的变量是一个对象的引用。声明数组类型的变量但不创建数组对象或者说不给数组元素分配任何内存空间，那么它只创建变量本身，变量包含一个数组引用。然而声明初始化部分(§8.3, §9.3, §14.4.1)可以创建一个数组，数组的引用将成为该变量的初始值。</p>

<p>Example 10.2-1. Declarations of Array Variables</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int[] ai; // array of int
short[][] as; // array of array of short
short s, // scalar short
aas[][]; // array of array of short
Object[] ao, // array of Object
otherAo; // array of Object
Collection&lt;?&gt;[] ca; // array of Collection of unknown type
</code></pre>
</div>

<p>上面的定义没有创建数组对象。下面举例说明几个创建数组对象的数组变量声明方法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Exception ae[] = new Exception[3];
Object aao[][] = new Exception[2][3];
int[] factorial = { 1, 1, 2, 6, 24, 120, 720, 5040 };
char ac[] = { 'n', 'o', 't', ' ', 'a', ' ',
'S', 't', 'r', 'i', 'n', 'g' };
String[] aas = { "array", "of", "String", };
</code></pre>
</div>

<p>[]可以出现在声明类型开始部分，或者也可以出现在声明的变量部分，例如：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>byte[] rowvector, colvector, matrix[];
</code></pre>
</div>

<p>等价于：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>byte rowvector[], colvector[], matrix[][];
</code></pre>
</div>

<p>在变量声明(§8.3, §8.4.1, §9.3, §14.14, §14.20)时除了一个可变的参数，在声明开头就要指定变量的数组类型，后面跟着变量标识符以及中括号。</p>

<p>例如，局部变量声明：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int a, b[], c[][];
</code></pre>
</div>

<p>等价于一系列的声明：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int a;
int[] b;
int[][] c;
</code></pre>
</div>

<p>声明时使用中括号也是C和C++的传统，一般为变量声明的规则。但是Java允许中括号出现在类型或者声明部分，所以局部变量可以这样定义：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>float[][] f[][], g[][][], h[]; // Yechh!
is equivalent to the series of declarations:
float[][][][] f;
float[][][][][] g;
float[][][] h;
</code></pre>
</div>

<p>我们不推荐在数组变量定义部分使用“混合标记”，即中括号既出现在类型部分又出现在声明部分。</p>

<p>一旦数组对象被创建，它的长度不会发生变化。为了让数组变量指向一个不同长度的数组，必须要将这个不同长度数组的引用赋给这个变量。</p>

<p>数组类型的单个变量包含对不同长度数组的引用，因为这个数组的长度不属于其类型的一部分。</p>

<p>假设一个数组变量v拥有A[]类型，其中A是引用类型，然后v可以持有任意数组类型B[]的一个实例的引用，假设B可以被分配给A(§5.2)。这可能会导致以后的任务运行时异常；详见§10.5。</p>

<h2 id="103-array-creation">10.3 Array Creation</h2>

<p>创建一个数组通过数组创建表达式(§15.10)或者数组初始化。</p>

<p>数组创建表达式中指定元素类型，嵌套数组的维度，至少一个嵌套数组的长度。数组的长度可作为最终实例变量的长度。</p>

<p>数组初始化创建一个数组，并提供所有元素的初始值。</p>

<h2 id="104-array-access">10.4 Array Access</h2>

<p>数组元素的访问通过数组访问表达式(§15.13)，表达式由数组的引用后跟[]括起来的索引值，如A[i]。</p>

<p>所有的数组都是从0开始，长度为n的数组可以通过整数0至n-1来索引。</p>

<p>Example 10.4-1. Array Access</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Gauss {
	public static void main(String[] args) {
		int[] ia = new int[101];
		for (int i = 0; i &lt; ia.length; i++) ia[i] = i;
		int sum = 0;
		for (int e : ia) sum += e;
		System.out.println(sum);
	}
}
</code></pre>
</div>

<p>这个程序的输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>5050
</code></pre>
</div>

<p>这个程序定义了一个int数组类型的变量ia，即int[]。变量ia被初始化为一个新创建数组对象的引用，由数组创建表达式创建(§15.10)。数组创建表达式指定数组应该有101个元素。数组的长度是可以使用的字段长度，如上所示。程序使用0－100填充数组，最终将这些整数求和，并且打印出结果。</p>

<p>数组必须被int类型值索引；short,byte,或者char值也可以用作索引值，因为他们可以转换成int类型值。</p>

<p>企图通过long值索引访问数组将导致编译时错误。</p>

<p>所有数组访问在运行时检查；企图使用小于0或者大于等于实际数组长度的索引将会抛出ArrayIndexOutOfBoundsException异常。</p>

<h2 id="105-array-store-exception">10.5 Array Store Exception</h2>

<p>对于一个类型为A[]的数组，其中A即为引用类型，给数组元素赋值将在运行时检查以确保分配给元素的值符合数组元素类型。</p>

<p>如果分配的值与数组元素的类型不兼容(§5.2)将抛出ArrayStoreException异常。</p>

<p>如果数组的元素类型不是具体化类型，Java虚拟机将不能执行前面段落描述的存储检查。这就是为什么数组创建表达式禁止使用非具体化元素类型(§15.10)。可以声明一个数组元素类型为非具体化类型的变量，但数组变量创建表达式的结果必将导致一个非检查告警(§5.1.9)。</p>

<p>Example 10.5-1. ArrayStoreException</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Point { int x, y; }
class ColoredPoint extends Point { int color; }
class Test {
	public static void main(String[] args) {
		ColoredPoint[] cpa = new ColoredPoint[10];
		Point[] pa = cpa;
		System.out.println(pa[1] == null);
		try {
			pa[0] = new Point();
		} catch (ArrayStoreException e) {
			System.out.println(e);
		}
	}
}
</code></pre>
</div>

<p>这个程序的输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>true
java.lang.ArrayStoreException: Point
</code></pre>
</div>

<p>变量pa为Point[]类型，变量cpa的值是ColoredPoint[]类型的一个引用。一个ColoredPoint对象能转成为一个Point对象；因此cpa的值可以赋给pa。</p>

<p>参考这个数组pa，例如，测试pa[1]是否为空，不会导致一个运行时类型错误。这是因为数组元素的类型ColoredPoint[]是ColoredPoint，每个ColoredPoint都能代替Point，因为Point是ColoredPoint的父类。</p>

<p>另一方面，分配数组pa可能导致运行时错误。在编译时，分配到pa的元素被检查以确保分配的值是一个Point。但由于pa指向一个ColoredPoint数组的引用，只有运行时分配该类型的值时该分配才是有效的，更具体的说，即ColoredPoint。Java虚拟机在运行时会检查这样的情况确保分配是有效的；如果不是将抛出一个ArrayStoreException异常。</p>

<h2 id="106-array-initializers">10.6 Array Initializers</h2>

<p>数组初始化可以在声明时指定(§8.3, §9.3, §14.4)，或者作为一个数组创建表达式的一部分(§15.10)，创建一个数组并提供一些初始值。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ArrayInitializer:
{ VariableInitializersopt ,opt }
VariableInitializers:
VariableInitializer
VariableInitializers , VariableInitializer
</code></pre>
</div>

<p>以下重复§8.3，介绍更详细：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>VariableInitializer:
Expression
ArrayInitializer
</code></pre>
</div>

<p>数组初始化写成一个逗号分隔的表达式列表，使用大括号封装。</p>

<p>数组初始化时最后一个表达式后面的逗号将被忽略。</p>

<p>每个变量初始化赋值必须兼容数组的元素类型，否则将会出现一个编译时错误。</p>

<p>如果数组元素类型初始化时没有指定具体的类型将会出现编译时错误(§4.7)。</p>

<p>数组的长度等于数组初始化时大括号里面变量的个数。虚拟机将为这个新数组分配这个长度的空间。如果没有足够的空间分配给这个数组，数组初始化意外终止并抛出OutOfMemoryError错误。否则一个一维特定长度的数组将被创建，并且每个数组的元素都被初始化为其默认值(§4.12.5)。</p>

<p>变量的初始化立即由数组初始化设定的括号按源码从左到右执行。第n个变量初始化指定数组第n-1个元素的值。如果执行变量初始化意外中止，整个数组的初始化也将以同样的原因意外中止。如果所有的变量初始化表达式正常完成，那么数组初始化正常完成，一个有值的新初始化的数组诞生了。</p>

<p>如果一个数组元素类型为数组类型，则变量初始化时指定元素本身就是一个数组初始化的过程；也就是说，数组初始化是可以嵌套的。在这种情况下，执行嵌套数组初始化构造和通过递归算法初始化一个数组对象，并将其分配给元素。</p>

<p>Example 10.6-1. Array Initializers</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Test {
	public static void main(String[] args) {
		int ia[][] = { {1, 2}, null };
		for (int[] ea : ia) {
			for (int e: ea) {
				System.out.println(e);
			}
		}
	}
}
</code></pre>
</div>

<p>程序输出：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1
2
</code></pre>
</div>

<p>试图索引到数组ia的第二个空引用元素导致NullPointerException异常。</p>

<h2 id="107-array-members">10.7 Array Members</h2>

<p>数组类型的成员有如下几种情况：</p>

<ul>
  <li>公共的final字段length，表明数组元素的数量，length 是0或者正整数。</li>
  <li>公共的方法clone，重写了Object类的clone方法，并且抛出没有检查异常。数组T[] clone方法的返回类型还是T[]。一个多维数组的克隆是浅拷贝，那就是说它只创建了一个新数组，子数组共享。</li>
  <li>所有的方法继承自Object类；唯一没有继承Object类的方法就是它的clone方法。</li>
</ul>

<p>在下面的类中数组因此拥有同样的公共字段和方法：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class A&lt;T&gt; implements Cloneable, java.io.Serializable {
	public final int length = X ;
	public T[] clone() {
		try {
			return (T[])super.clone(); // unchecked warning
		} catch (CloneNotSupportedException e) {
			throw new InternalError(e.getMessage());
		}
	}
}
</code></pre>
</div>

<p>需要注意的是在上面的示例中，如果数组真是这样实现的话将会产生一个非检查警告(§5.1.9)</p>

<p>另一种情况见§9.6.3.4，对象的公共方法和非公共方法的区别，需要特别小心。</p>

<p>Example 10.7-1. Arrays Are Cloneable</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Test1 {
	public static void main(String[] args) {
		int ia1[] = { 1, 2 };
		int ia2[] = ia1.clone();
		System.out.print((ia1 == ia2) + " ");
		ia1[1]++;
		System.out.println(ia2[1]);
	}
}
</code></pre>
</div>

<p>程序执行结果：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>false 2
</code></pre>
</div>

<p>表明ia1和ia2变量分别引用了两个不同的数组。</p>

<p>实际上当一个多维数组被克隆时子数组是共享的，看这个例子：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Test2 {
	public static void main(String[] args) throws Throwable {
		int ia[][] = { {1,2}, null };
		int ja[][] = ia.clone();
		System.out.print((ia == ja) + " ");
		System.out.println(ia[0] == ja[0] &amp;&amp; ia[1] == ja[1]);
	}
}
</code></pre>
</div>

<p>程序执行结果：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>false true
</code></pre>
</div>

<p>结果显示ia[0]数组跟ja[0]是同一个数组。</p>

<p>##10.8 Class Objects for Arrays
每个数组都有一个关联的类对象，跟所有其他的数组共享同样的元素类型。</p>

<p>Example 10.8-1. Class Object Of Array</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Test {
	public static void main(String[] args) {
		int[] ia = new int[3];
		System.out.println(ia.getClass());
		System.out.println(ia.getClass().getSuperclass());
	}
}
</code></pre>
</div>

<p>程序输出结果：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class [I
class java.lang.Object
</code></pre>
</div>

<p>这里面的字符串”[I”是int类型数组类对象在运行时的类型签名。</p>

<p>Example 10.8-2. Array Class Objects Are Shared</p>

<div class="highlighter-rouge"><pre class="highlight"><code>class Test {
	public static void main(String[] args) {
		int[] ia = new int[3];
		int[] ib = new int[6];
		System.out.println(ia.getClass() == ib.getClass());
		System.out.println("ia has length=" + ia.length);
	}
}
</code></pre>
</div>

<p>这个程序输出结果：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>true
ia has length=3
</code></pre>
</div>

<p>该程序使用继承自Object的getClass方法，和length属性。第一个println打印两个数组类对象比较结果，结果说明所有int类型的数组都是int[]的实例。</p>

<h2 id="109-an-array-of-characters-is-not-a-string">10.9 An Array of Characters is Not a String</h2>

<p>与C语言不同，在Java编程语言中，char数组即不是字符串也不是一个以’\u0000’ (the NUL character)结尾的字符数组。</p>

<p>一个字符串对象是不可变的，也就是说它的内容不会改变，而char数组元素是可变的。</p>

<p>在String类中toCharArray方法返回一个包含字符串相同字符序列的字符数组。StringBuffer类实现了可变字符数组的有效方法。</p>

                                </div>
                            </div>
                        </div>
                        <div class='row'>
                            
                            <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                <span>上一篇:
                                    <a href='/blog/2015/05/07/solr-usage-6.html' title='Solr 应用（六）－API 操作'>Solr 应用（六）－API 操作</a>
                                </span>
                            </div>
                            
                            
                            <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                <span class='pull-right hidden-sm hiden-xs visible-lg visible-md'>下一篇:
                                    <a href='/blog/2015/06/09/git-gitolite.html' title='git权限管理工具gitolite使用教程'>git权限管理工具gitolite使用教程</a>
                                </span>
                                <span class='hidden-lg hiden-md visible-sm visible-xs'>下一篇:
                                    <a href='/blog/2015/06/09/git-gitolite.html' title='git权限管理工具gitolite使用教程'>git权限管理工具gitolite使用教程</a>
                                </span>
                            </div>
                            
                        </div><!--end row-->
                    </div>
                </div>
            </div>
            <div class='col-md-3 hidden-sm hidden-xs sidebar'>

                <div class='authorbar panel panel-default'>
                    <div class='panel-heading'>
                        <h4 class='panel-title'>作品信息</h4>
                    </div>
                    <div class='pt-author-info row panel-body'>
                        <a class='col-lg-3 col-md-4'>
                            <img width='58' height='58' src='/images/pix3.jpg' alt='作者头像'>
                        </a>
                        <div class='col-md-6 media-body'>
                            
                            
                            
                            
                            
                            
                            <h4 class='pt-author-name media-heading'>
                                <a id='pt-author-url' href='/authors/jacky/'>Jacky</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            </h4>
                            <span id='pt-article-num'></span>
                        </div>
                    </div>
                </div><!--end of authorbar-->
                
                <div class='newbar panel panel-default' id='newbar'>
                    <div class='panel-heading'>
                        <h4 class='panel-title'>最新博文</h4>
                    </div>
                    <div class='list-group new-list'>
                        
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2017/01/08/scrapy.html' title='Scrapy 爬虫框架入门'>Scrapy 爬虫框架入门</a>
                            </h5>
                            <span class='desc'>介绍Scrapy快速编写网络爬虫</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2017-01-08
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/jyjsjd/'>景阳</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/22/mysql-introduce.html' title='mysql入门及在nodejs下的简单应用'>mysql入门及在nodejs下的简单应用</a>
                            </h5>
                            <span class='desc'>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-22
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/huqinghai/'>胡青海</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/19/pm2.html' title='PM2-NodeJs生产系统进程管理器'>PM2-NodeJs生产系统进程管理器</a>
                            </h5>
                            <span class='desc'>PM2是具有内置负载平衡器的Node.js应用程序的生产流程管理器。 它可...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-19
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/tangshizhong/'>汤仕忠</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/18/mocha-introduction.html' title='测试框架 Mocha入门'>测试框架 Mocha入门</a>
                            </h5>
                            <span class='desc'>Mocha（发音"摩卡"）诞生于2011年，是现在最流行的JavaScri...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-18
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/chenfan/'>陈凡</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/18/canvas-3.html' title='canvas学习[3]--文本和图片'>canvas学习[3]--文本和图片</a>
                            </h5>
                            <span class='desc'>本文将介绍canvas中对于文本和图片的处理。</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-18
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/wanghui/'>汪回</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div><!--end of newestbar-->
            </div>
        </div>
    </div>

    <script src="http://s13.cnzz.com/stat.php?id=5229914&web_id=5229914" language="JavaScript"></script>
</body>
</html>	
