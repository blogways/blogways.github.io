<!DOCTYPE html>
<html lang='zh-CN'>
<head>
    <title>公司主机装载apache+PHP+phpmyadmin+wordpress_博汇网_www.blogways.net</title>
    <meta name=keywords content="WordPress, 安装, 公司主机">
    
    <meta name=description content="公司主机虽然也是基于linux系统，但是没有联网下载功能，只能通过下载好的安装包，公司主机中安装wordpress">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src='/js/jquery-2.1.1.js'></script>
    <link rel='stylesheet' type='text/css' href='/bootstrap/css/bootstrap.css'>
    <link rel='stylesheet' type='text/css' href='/bootstrap/css/bootstrap-theme.css'>
    <link rel='stylesheet' type='text/css' href='/css/app.css'>
    <script src='/bootstrap/js/bootstrap.js'></script>
    <script src='/js/app.js'></script>
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "//hm.baidu.com/hm.js?ac29e786ae4e5463b445f1e0ad1f1d1e";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body style='background-color: #f5f5f5;'>
    <div class='totop visible-lg visible-md visible-sm hidden-xs'>
        <a id='to-top' href='javascript:void(0)'>
            <span id='to-top-title'>返回</br>顶部</span>
        </a>
    </div>
    <div class='totop-xs hidden-lg hidden-md hidden-sm visible-xs'>
        <a id='to-top-xs' href='javascript:void(0)'>
            <span id='to-top-title-xs'>返回</br>顶部</span>
        </a>
    </div>
    <div class='headerbar'>
            <div class='navbar navbar-default navbar-fixed-top' role='navigation'>
        <div class='containr-fluid'>
            <div class='navbar-header'>
                <button type='button' class='navbar-toggle collapsed' data-toggle='collapse' data-target='#bw-navbar-collapse'>
                    <span class='sr-only'>下拉框</span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                    <span class='icon-bar'></span>
                </button>
                <a class='navbar-brand' href='/'>Blog<span>ways</span></a>
            </div>
            <div class='navbar-collapse collapse' id='bw-navbar-collapse'>
                <ul class='nav navbar-nav'>
                    <li><a href='/'>主页</a></li>
                    <li class='divider visible-xs'></li>
                    
                    <li class='dropdown visible-sm visible-xs active'>
                        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>热门分类
                            <span class='caret'></span>
                        </a>
                        <ul class='dropdown-menu cate-drop-menu' role='menu'>
                            
                            <li>
                                <a href='/categories/Jekyll/'>Jekyll
                                    <span class='badge pull-right'>4</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/杂记/'>杂记
                                    <span class='badge pull-right'>28</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/JUnit/'>JUnit
                                    <span class='badge pull-right'>8</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/NoSQL/'>NoSQL
                                    <span class='badge pull-right'>11</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Sencha/'>Sencha
                                    <span class='badge pull-right'>5</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Nginx/'>Nginx
                                    <span class='badge pull-right'>4</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Apache/'>Apache
                                    <span class='badge pull-right'>10</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Node.js/'>Node.js
                                    <span class='badge pull-right'>7</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Express/'>Express
                                    <span class='badge pull-right'>14</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/jQuery/'>jQuery
                                    <span class='badge pull-right'>21</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Java/'>Java
                                    <span class='badge pull-right'>8</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Solr/'>Solr
                                    <span class='badge pull-right'>6</span>
                                </a>
                            </li>
                            
                            <li class='disabled active'>
                                <a href='javascript:void(0)'>WordPress
                                    <span class='badge pull-right'>3</span>
                                </a>
                                </li>
                            
                            <li>
                                <a href='/categories/drupal/'>drupal
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/joomla/'>joomla
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/design/'>design
                                    <span class='badge pull-right'>5</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Web前端/'>Web前端
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/keepalived/'>keepalived
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/iot/'>iot
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/web前端/'>web前端
                                    <span class='badge pull-right'>15</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/交互设计/'>交互设计
                                    <span class='badge pull-right'>6</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Spring/'>Spring
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/web后端/'>web后端
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/git/'>git
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/索引/'>索引
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/storm/'>storm
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/Python/'>Python
                                    <span class='badge pull-right'>2</span>
                                </a>
                            </li>
                            
                            <li>
                                <a href='/categories/nodejs/'>nodejs
                                    <span class='badge pull-right'>1</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class='dropdown'>
                        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>关于我们
                            <span class='caret'></span>
                        </a>
                        <ul class='dropdown-menu' role='menu'>
                            <li><a href='/about.html'>所有信息</a></li>
                            <li class='divider'></li>
                            <li><a href='/authors/chenfan/'>陈凡</a></li>
                            <li><a href='/authors/chenwt/'>陈文婷</a></li>
                            <li><a href='/authors/fukui/'>付奎</a></li>
                            <li><a href='/authors/huangmai/'>黄劢</a></li>
                            <li><a href='/authors/huqinghai/'>胡青海</a></li>
                            <li><a href='/authors/jacky/'>Jacky</a></li>
                            <li><a href='/authors/jyjsjd/'>景阳</a></li>
                            <li><a href='/authors/liuyiwei/'>刘益伟</a></li>
                            <li><a href='/authors/tangshizhong/'>汤仕忠</a></li>
                            <li><a href='/authors/tangzhi/'>唐治</a></li>
                            <li><a href='/authors/wangdong/'>王栋</a></li>
                            <li><a href='/authors/wanghui/'>汪回</a></li>
                            <li><a href='/authors/xuwannian/'>徐万年</a></li>
                            <li><a href='/authors/wanzhou/'>万洲</a></li>
                            <li><a href='/authors/zhangke/'>张可</a></li>
                            <li><a href='/authors/zhangshaoyong/'>张少勇</a></li>
                            <li><a href='/authors/zhaojiajun/'>赵家君</a></li>
                        </ul>
                    </li>
                    <li><a href='https://github.com/blogways/blogways.github.io' title='https://github.com/blogways/blogways.github.io' target='_blank'>联系我们</a></li>
                </ul>
                <!--<form class="navbar-form navbar-right hidden-sm hidden-xs" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search">
                            <button type="submit" class="btn btn-default">Submit</button>
                    </div>
                </form>-->
                <p class="navbar-text navbar-right hidden-sm hidden-xs"><small>汇集优秀博文(关注:敏捷开发/WEB开发/移动终端开发/NOSQL/云计算...)尽在</small><a href="/" class="navbar-link">Blogways</a>!</p>
            </div>
        </div>    
    </div>

    </div>
        <script>
        $(document).ready(function(){
            (function(){
                $.getJSON("/authors.json",function(mJSON){
                    $.each( mJSON , function( i , item ){
                        var name = item.name.toLowerCase().replace(" ","") || "";
                        var page_name = "陈凡".toLowerCase().replace(" ","");
                        var num = item.articles.length || 0;
                        if(name == page_name){
                            $("#pt-article-num").append( num + " 篇博文" );
                        }
                    });
                });
            })();
        });
    </script>

    <div class='container'>
        <div class='row main-content'>
            <div class='col-md-9 col-sm-12 col-xs-12 mainbar'>
                <div class='pt-article'>
                    <div class='panel panel-default pt-article-extra'>
                        <div class='panel-body'>
                            <div class='pt-article-pn row'>
                                
                                <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                    <span>上一篇:
                                        <a href='/blog/2015/12/21/wordpress-install-on-linux.html' title='linux下搭建属于自己的博客'>linux下搭建属于自己的博客</a>
                                    </span>
                                </div>
                                
                                
                                <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                    <span class='pull-right hidden-sm hiden-xs visible-lg visible-md'>下一篇:
                                        <a href='/blog/2015/12/22/wordpress-install.html' title='linux下源码安装wordpress全过程'>linux下源码安装wordpress全过程</a>
                                    </span>
                                    <span class='hidden-lg hiden-md visible-sm visible-xs'>下一篇:
                                        <a href='/blog/2015/12/22/wordpress-install.html' title='linux下源码安装wordpress全过程'>linux下源码安装wordpress全过程</a>
                                    </span>
                                </div>
                                
                            </div><!--end of article-pn-->
                            <hr class='hidden-sm hidden-xs'>
                            <div class='pt-article-info'>
                                <div class='pt-article-title'>
                                    <h2>公司主机装载apache+PHP+phpmyadmin+wordpress
                                        <small class='pt-article-date hidden-xs'>
                                            <span class='glyphicon glyphicon-calendar'></span>&nbsp;
                                            <span class='sr-only'>发布于&nbsp;:&nbsp;</span>2015-12-22
                                        </small>
                                    </h2>
                                </div>
                                <div class='row pt-article-tags'>
                                    <div class='col-xs-12 post-tags'>
                                        <span class='glyphicon glyphicon-tags'></span>&nbsp;
                                        
                                        <a class='label label-info' href='#'>WordPress</a>
                                        
                                        、
                                        
                                        <a class='label label-info' href='#'>安装</a>
                                        
                                        、
                                        
                                        <a class='label label-info' href='#'>公司主机</a>
                                        
                                        
                                    </div>
                                </div>
                                <div class='pt-article-tags'>
                                    分类: <a class='label label-info' href='/categories//'>WordPress</a>
                                </div>
                                <div class='pt-article-tags'>
                                    <!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools_32 get-codes-bdshare">
<a class="bds_qzone"></a>
<a class="bds_tsina"></a>
<a class="bds_tqq"></a>
<a class="bds_renren"></a>
<a class="bds_t163"></a>
<span class="bds_more"></span>
<a class="shareCount"></a>
</div>
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=59150" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

                                </div>
                            </div>
                        </div>
                    </div>
                    <div class='pt-article-main'>
                        <div class='panel panel-default'>
                            <div class='panel-body'>
                                <div class='pt-article-content'>
                                    <h1 id="wordpress-公司主机安装教程">wordpress 公司主机安装教程</h1>

<div class="code fl">
    <dl>
    <dt>目录</dt>
    <dd>
    <ol>
        <li><a href="#1">介绍</a></li>
        <li><a href="#2">安装前准备</a></li>
        <li><a href="#3">配置变量环境</a></li>
        <li><a href="#4">安装Apache</a></li>
        <li><a href="#5">安装MySql</a></li>
        <li><a href="#6">安装PHP</a></li>
        <li><a href="#7">安装phpMyAdmin</a></li>
        <li><a href="#8">安装WordPress</a></li>
    </ol>
    </dd>
    </dl>
</div>

<h2 id="一-介绍">一.<a name="1"></a> 介绍</h2>

<p>　　WordPress是一个注重美学、易用性和网络标准的个人信息发布平台。WordPress虽为免费的开源软件，但其价值无法用金钱来衡量。当前WordPress插件数据库中有超过18000个插件，包括SEO、控件等等。个人可以根据它的核心程序提供的规则自己开发模板和插件。这些插件可以快速地把你的博客改变成cms、forums、门户等各种类型的站点。</p>

<h2 id="二-安装前准备">二. <a name="2"></a>安装前准备</h2>

<p>Apache版本：</p>

<ul>
  <li>httpd-2.4.17.tar.gz</li>
</ul>

<p>Mysql 版本：</p>

<ul>
  <li>mysql-5.0.41.tar.gz</li>
</ul>

<p>Php版本：</p>

<ul>
  <li>php-7.0.0.tar.gz</li>
</ul>

<p>库文件准备：</p>

<ul>
  <li>autoconf-2.61.tar.gz</li>
  <li>freetype-2.3.5.tar.gz</li>
  <li>gd-2.1.1.tar.gz<br /></li>
  <li>jpegsrc.v6b.tar.gz</li>
  <li>libmcrypt-2.5.8.tar.gz</li>
  <li>libpng-1.2.31.tar.gz</li>
  <li>libxml2-2.6.30.tar.gz</li>
  <li>zlib-1.2.3.tar.gz</li>
  <li>phpMyAdmin-4.5.2-rc1-all-languages.tar.gz</li>
</ul>

<h2 id="三-配置变量环境">三. <a name="3"></a>配置变量环境</h2>

<h3 id="1-安装libxml2">1. 安装libxml2</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/libxml2-2.6.30
$./configure --prefix=/usr/local/libxml2
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="2-安装libmcrypt">2. 安装libmcrypt</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/libmcrypt-2.5.8
$./configure --prefix=/usr/local/libmcrypt
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="3-安装zlib">3. 安装zlib</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/zlib-1.2.3
$./configure
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="4-安装libpng">4. 安装libpng</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/libpng-1.2.31
$./configure --prefix=/usr/local/libpng
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="5-安装jpeg6">5. 安装jpeg6</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$mkdir /usr/local/jpeg6
$mkdir /usr/local/jpeg6/bin
$mkdir /usr/local/jpeg6/lib
$mkdir /usr/local/jpeg6/include
$mkdir -p /usr/local/jpeg6/man/ma
</code></pre>
</div>

<blockquote>
  <p>这个软件包安装有些特殊，其它软件包安装时如果目录不存在，会自动创建，但这个软件包安装时需要手动创建。</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/jpeg-6b
$./configure --prefix=/usr/local/jpeg6/ --enable-shared --enable-static
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="6-安装freetype">6. 安装freetype</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/freetype-2.3.5
$./configure --prefix=/usr/local/freetype
$make
$make install
</code></pre>
</div>

<h3 id="7-安装autoconf">7. 安装autoconf</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/autoconf-2.61
$./configure
$make &amp;&amp; make install
</code></pre>
</div>

<h3 id="8-安装gd库">8. 安装GD库</h3>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/gd-2.1.1
$./configure \
--prefix=/usr/local/gd2/ \
--enable-m4_pattern_allow \
--with-zlib=/usr/local/zlib/ \
--with-jpeg=/usr/local/jpeg6/ \
--with-png=/usr/local/libpng/ \
--with-freetype=/usr/local/freetype/
$make
$make install
</code></pre>
</div>

<p><strong>1)</strong>　执行 make 报错：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>make[2]: *** [gd_png.lo] Error 1  
make[2]: Leaving directory /usr/local/src/gd-2.1.1  
make[1]: *** [all-recursive] Error 1  
make[1]: Leaving directory /usr/local/src/gd-2.1.1'  
make: *** [all] Error 2  
</code></pre>
</div>

<p><strong>分析</strong>：这个问题是由于 gd 库中的 gd_png.c 源文件包含 png.h 时，png.h 没有找到导致的。</p>

<p><strong>解决</strong>：在编译文件里 <code class="highlighter-rouge">vi gd_png.c</code> 将 <code class="highlighter-rouge">include "png.h"</code> 改成 <code class="highlighter-rouge">include "/usr/local/libpng/include/png.h"</code></p>

<p><strong>2)</strong>　出现</p>

<div class="highlighter-rouge"><pre class="highlight"><code>X--tag=CC: command not found
</code></pre>
</div>

<p><strong>解决</strong>：修改 aclocal.m4 文件，将上面的 <code class="highlighter-rouge">LIBTOOL＝'$(SHELL) $(top _builddir)/libtool'</code> 改成 <code class="highlighter-rouge">LIBTOOL='$(SHELL)  /usr/bin/libtool' </code>后重新执行 <code class="highlighter-rouge">./configure</code></p>

<p><strong>3)</strong>　Invalid libtool wrapper script when make installing Apache</p>

<p><strong>解决</strong>：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>make clean
--with-pcre=/usr/local/pcre
</code></pre>
</div>

<h2 id="四-安装apache"><a name="4"></a>四. 安装Apache</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$cd /usr/local/src/httpd-2.2.9
$./configure \
--prefix=/usr/local/apache2 \
--sysconfdir=/etc/httpd \
--with-z=/usr/local/zlib \
--with-included-apr \
--with-apr=/usr/local/apr \
--with-apr-util=/usr/local/apr-util /
--with-pcre=/usr/local/pcre \
--enable-so \
--enable-deflate=shared \
--enable-expires=shared \
--enable-rewrite=shared \
$make &amp;&amp; make install
</code></pre>
</div>

<p><strong>1)</strong>　执行 configure 出错：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>configure: error: Bundled APR requested but not found at ./srclib/.
Download and unpack the corresponding apr and apr-util packages to ./srclib/.
</code></pre>
</div>

<p><strong>解决</strong>： 下载 api 和 api-util 安装到 apache 的 ./srclib/ 目录.</p>

<p><strong>2)</strong>　<code class="highlighter-rouge">./configure</code> 命令后在执行 make 命令的时候报如下错误：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/usr/bin/ld: /usr/local/lib/libz.a(crc32.o): relocation RX86\_64\_32 against `.rodata' can not be used when making a shared object; recompile with -fPIC   **解决**：下载 zlib-1.2.3.tar.gz 放在 /usr/local 目录执行以下命令：

tar -zxvf zlib-1.2.3.tar.gz
cd zlib-1.2.3
./configure
vi Makefile
</code></pre>
</div>

<p>找到 <code class="highlighter-rouge">CFLAGS=-O3 -DUSE\_MMAP</code>
在后面加入-fPIC，即变成 <code class="highlighter-rouge">CFLAGS=-O3 -DUSE\_MAP -fPIC</code></p>

<hr />
<p><strong>启动Apache</strong></p>

<p>/usr/local/apache2/bin/apachectl start</p>

<p><strong>关闭Apache</strong></p>

<p>/usr/local/apache2/bin/apachectl stop</p>

<p><strong>查看80端口是否开启</strong></p>

<table>
  <tbody>
    <tr>
      <td>netstat -tnl</td>
      <td>grep 80</td>
    </tr>
  </tbody>
</table>

<hr />
<p><strong>配置Apache</strong></p>

<blockquote>
  <p>标红部分为需要需改的地方</p>
</blockquote>

<p>&lt;font color=#DC143C&gt;ServerRoot “/usr/local/apache2”&lt;/font&gt;</p>
<blockquote>
  <p>你的apache软件安装的位置。其它指定的目录如果没有指定绝对路径，则目录是相对于该目录。</p>
</blockquote>

<p>PidFile logs/httpd.pid</p>
<blockquote>
  <p>第一个httpd进程(所有其他进程的父进程)的进程号文件位置。</p>
</blockquote>

<p>Listen 80</p>
<blockquote>
  <p>服务器监听的端口号。</p>
</blockquote>

<p>&lt;font color=#DC143C&gt;ServerName 10.20.16.78:80&lt;/font&gt;<br /></p>
<blockquote>
  <p>主站点名称（网站的主机名）。</p>
</blockquote>

<p>ServerAdmin admin@clusting.com</p>
<blockquote>
  <p>管理员的邮件地址。</p>
</blockquote>

<p>DocumentRoot “/data/spdev/chenfan”</p>
<blockquote>
  <p>主站点的网页存储位置。</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code># 变更路径
&lt;Directory "/data/spdev/chenfan "&gt;
	Options FollowSymLinks
	AllowOverride None
	Order allow,deny
	#修改权限
	Allow from all
&lt;/Directory&gt;
</code></pre>
</div>

<h2 id="五-安装mysql"><a name="5"></a>五. 安装Mysql</h2>

<h3 id="1-添加一个mysql标准组">1. 添加一个mysql标准组</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>$groupadd mysql
</code></pre>
</div>

<h3 id="2-添加mysql用户并加到mysql组中">2. 添加mysql用户并加到mysql组中</h3>
<div class="highlighter-rouge"><pre class="highlight"><code>&amp;useradd -g mysql mysql
&amp;cd /usr/local/src/mysql-5.0.41
&amp;./configure \
--prefix=/usr/local/mysql/ \
--with-extra-charsets=all
</code></pre>
</div>

<h2 id="六-安装php"><a name="6"></a>六. 安装PHP</h2>
<div class="highlighter-rouge"><pre class="highlight"><code>$./configure \
--prefix=/usr/local/php \
--with-config-file-path=/usr/local/php/etc \
--with-apxs2=/usr/local/apache2/bin/apxs \
--with-mysql=/usr/local/mysql/mysql-cluster-gpl-7.2.8-linux2.6-x86_64/ \
--with-libxml-dir=/usr/local/libxml2/ \
--with-png-dir=/usr/local/libpng/ \
--with-jpeg-dir=/usr/local/jpeg6/ \
--with-freetype-dir=/usr/local/freetype/ \
-with-gd=/usr/local/gd2/ \
--with-zlib-dir=/usr/local/zlib/ \
--with-mcrypt=/usr/local/libmcrypt/ \
--with-mysqli=/usr/local/mysql/mysql-cluster-gpl-7.2.8-linux2.6-x86_64/bin/mysql_config \
--enable-soap \
--enable-mbstring=all \
--enable-sockets
</code></pre>
</div>

<p><strong>配置PHP</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>cp /usr/local/src/php-5.3.16/php.ini-development  /usr/local/php/lib/php.ini
</code></pre>
</div>

<p>编辑 apache 配置文件</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$vi /etc/httpd/httpd.conf
</code></pre>
</div>

<p>添加这一条代码</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Addtype application/x-httpd-php .php .phtml
</code></pre>
</div>

<p><strong>测试</strong></p>

<p>在 apache 的 htdocs 下建立一个 php 文件 test.php，里面的内容如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;?php  
	phpinfo();  
?&gt;
</code></pre>
</div>

<p>然后在浏览器里输入 <a href="http://10.20.16.78/test.php">http://10.20.16.78/test.php</a>，出现 php 信息则为安装正确。</p>

<h2 id="七-装载phpmyadmin"><a name="7"></a>七. 装载phpmyadmin</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>$tar -zxvf phpMyAdmin-7.0.0-all-languages.tar.gz &gt;此时路径 /data/spdev/chenfan/phpMyAdmin-7.0.0-all-languages.tar.gz
</code></pre>
</div>

<p><strong>配置phpmyadmin</strong></p>

<ol>
  <li>重启apache 找到 /libraries/config.default.php文件(config.default.php复制到phpmyadmin目录下，然后更名为config.inc.php)，在linux下直接用vi编辑.</li>
  <li>查找 <code class="highlighter-rouge">$cfg['PmaAbsoluteUri']</code> 修改为你将上传到空间的phpMyAdmin的网址
如：<code class="highlighter-rouge">$cfg['PmaAbsoluteUri'] = 'http://10.20.16.78/admin/';</code></li>
  <li>查找 <code class="highlighter-rouge">$cfg['Servers'][$i]['host'] = '10.20.16.78';</code>（通常用默认，也有例外，可以不用修改）</li>
  <li>查找 ` $cfg[‘Servers’][$i][‘auth_type’] = ‘config’;`
在自己的机子里调试用config；如果在网络上的空间用cookie，这里我们既然在前面已经添加了网址，就修改成cookie ，这里建议使用cookie.\</li>
  <li>查找 <code class="highlighter-rouge">$cfg['Servers'][$i]['user'] = 'root';</code> // MySQL user（mysql用户名，自己机里用root；）</li>
  <li>查找 <code class="highlighter-rouge">$cfg['Servers'][$i]['password'] = '123456'; </code>// MySQL password (mysql用户的密码,自己的服务器一般都是mysql用户root的密码)</li>
  <li>查找 ` $cfg[‘Servers’][$i][‘only_db’] = ‘’;` // If set to a db-name, only（你只有一个数据就设置一下；如果你在本机或想架设服务器，那么建议留空）</li>
  <li>查找 ` $cfg[‘DefaultLang’] = ‘zh’; `（这里是选择语言，zh代表简体中文的意思,这里不知道填gbk对否）</li>
  <li>设置完毕后保存</li>
</ol>

<hr />
<p><strong>出现错误</strong>：数据库连接错误</p>

<p><strong>原因</strong>：绝对路径没有配置对</p>

<p><strong>解决</strong>：修改 <code class="highlighter-rouge">$cfg['PmaAbsoluteUri'] = 'http://10.20.16.78/phpmyadmin/';</code></p>

<h2 id="八装载wordpress"><a name="8"></a>八.装载wordpress</h2>

<p>解压 wordpress</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$tar -zxvf wordpress-4.3.1-zh_CN.tar.gz
</code></pre>
</div>

<p>修改配置文件</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$cp wp-config-sample.php wp-config.php
$vi wp-config.php
</code></pre>
</div>

<p>define(‘DB_NAME’, ‘wordpress’);</p>
<blockquote>
  <p>数据库</p>
</blockquote>

<p>define(‘DB_USER’, ‘root’);</p>
<blockquote>
  <p>数据库名称</p>
</blockquote>

<p>define(‘DB_PASSWORD’, ‘<em>**</em>’);</p>
<blockquote>
  <p>数据库密码</p>
</blockquote>

<hr />
<p><strong>出现错误</strong>：装载 php 时错误找不到 mysql_config</p>

<p><strong>原因</strong>：指定的路径出错</p>

<p><strong>解决办法</strong>：找到 <code class="highlighter-rouge">mysql\_config</code> 改成 <code class="highlighter-rouge">with-mysqli=/usr/local/mysql/mysql-cluster-gpl-7.2.8-linux2.6-x86\_64/bin/mysql_config \</code></p>

                                </div>
                            </div>
                        </div>
                        <div class='row'>
                            
                            <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                <span>上一篇:
                                    <a href='/blog/2015/12/21/wordpress-install-on-linux.html' title='linux下搭建属于自己的博客'>linux下搭建属于自己的博客</a>
                                </span>
                            </div>
                            
                            
                            <div class='col-lg-6 col-md-6 col-sm-12 col-xs-12'>
                                <span class='pull-right hidden-sm hiden-xs visible-lg visible-md'>下一篇:
                                    <a href='/blog/2015/12/22/wordpress-install.html' title='linux下源码安装wordpress全过程'>linux下源码安装wordpress全过程</a>
                                </span>
                                <span class='hidden-lg hiden-md visible-sm visible-xs'>下一篇:
                                    <a href='/blog/2015/12/22/wordpress-install.html' title='linux下源码安装wordpress全过程'>linux下源码安装wordpress全过程</a>
                                </span>
                            </div>
                            
                        </div><!--end row-->
                    </div>
                </div>
            </div>
            <div class='col-md-3 hidden-sm hidden-xs sidebar'>

                <div class='authorbar panel panel-default'>
                    <div class='panel-heading'>
                        <h4 class='panel-title'>作品信息</h4>
                    </div>
                    <div class='pt-author-info row panel-body'>
                        <a class='col-lg-3 col-md-4'>
                            <img width='58' height='58' src='/images/pix3.jpg' alt='作者头像'>
                        </a>
                        <div class='col-md-6 media-body'>
                            
                            <h4 class='pt-author-name media-heading'>
                                <a id='pt-author-url' href='/authors/chenfan/'>陈凡</a>
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            
                            </h4>
                            <span id='pt-article-num'></span>
                        </div>
                    </div>
                </div><!--end of authorbar-->
                
                <div class='newbar panel panel-default' id='newbar'>
                    <div class='panel-heading'>
                        <h4 class='panel-title'>最新博文</h4>
                    </div>
                    <div class='list-group new-list'>
                        
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2017/01/08/scrapy.html' title='Scrapy 爬虫框架入门'>Scrapy 爬虫框架入门</a>
                            </h5>
                            <span class='desc'>介绍Scrapy快速编写网络爬虫</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2017-01-08
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/jyjsjd/'>景阳</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/22/mysql-introduce.html' title='mysql入门及在nodejs下的简单应用'>mysql入门及在nodejs下的简单应用</a>
                            </h5>
                            <span class='desc'>MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-22
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/huqinghai/'>胡青海</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/19/pm2.html' title='PM2-NodeJs生产系统进程管理器'>PM2-NodeJs生产系统进程管理器</a>
                            </h5>
                            <span class='desc'>PM2是具有内置负载平衡器的Node.js应用程序的生产流程管理器。 它可...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-19
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/tangshizhong/'>汤仕忠</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/18/mocha-introduction.html' title='测试框架 Mocha入门'>测试框架 Mocha入门</a>
                            </h5>
                            <span class='desc'>Mocha（发音"摩卡"）诞生于2011年，是现在最流行的JavaScri...</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-18
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/chenfan/'>陈凡</a>
                                </span>
                            </div>
                        </div>
                        <div class='list-group-item list-group-item-default'>
                            <h5 class='new-heading'>
                                <a href='/blog/2016/12/18/canvas-3.html' title='canvas学习[3]--文本和图片'>canvas学习[3]--文本和图片</a>
                            </h5>
                            <span class='desc'>本文将介绍canvas中对于文本和图片的处理。</span>
                            <div class='new-post-info'>
                                <span class='new-date'>
                                    <span class='glyphicon glyphicon-calendar'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    2016-12-18
                                </span>&nbsp;&nbsp;
                                <span class='new-author'>
                                    <span class='glyphicon glyphicon-user'></span>
                                    <span class='sr-only'>&nbsp;:&nbsp;</span>
                                    
                                    <a href='/authors/wanghui/'>汪回</a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div><!--end of newestbar-->
            </div>
        </div>
    </div>

    <script src="http://s13.cnzz.com/stat.php?id=5229914&web_id=5229914" language="JavaScript"></script>
</body>
</html>	
