I"œ<h3 id="ä¸€æ¦‚è¿°">ä¸€ã€æ¦‚è¿°</h3>
<p>å¯¹äºå¯æŒç»­é›†æˆæè¿°åŠJenkinsä»‹ç»åŠå®‰è£…åœ¨å‰é¢æ–‡æ¡£ä¸­æœ‰æ‰€ä»‹ç»ï¼Œæœ¬æ–‡å°±ä¸åšè¯´æ˜ï¼Œæœ¬æ–‡åªä»‹ç»å¦‚ä½•å®ç°Jenkinså¦‚ä½•è‡ªåŠ¨å–gitä¸Šwebå·¥ç¨‹ä»£ç ï¼Œmavenå®ç°ç¼–è¯‘åŠæ‰“åŒ…ï¼Œæœ€åJenkinsè´Ÿè´£å°†waråŒ…å‘å¸ƒåˆ°tomcatä¸­</p>

<h3 id="äºŒjenkinsé…ç½®åŠä½¿ç”¨">äºŒã€Jenkinsé…ç½®åŠä½¿ç”¨</h3>

<p>tomcatä¸­tomcat-users.xmlæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;role rolename="manager-gui"/&gt;
&lt;role rolename="manager-script"/&gt;   
&lt;user username="tomcat" password="tomcat" roles="manager-gui,
 manager-script"/&gt;   æ›´æ”¹gitä»“åº“ä¸­pom.xml æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š

&lt;plugin&gt;
     &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;
     &lt;artifactId&gt;tomcat6-maven-plugin&lt;/artifactId&gt;
      &lt;version&gt;2.0&lt;/version&gt;
      &lt;configuration&gt;
			&lt;url&gt;http://localhost:8080/manager&lt;/url&gt;
			&lt;server&gt;tomcat&lt;/server&gt;
			&lt;!--  &lt;uriEncoding&gt;utf-8&lt;/uriEncoding&gt; --&gt;
    		&lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt; 
			
	  &lt;/configuration&gt;
&lt;/plugin&gt; Mavenå®‰è£…ç›®å½•ä¸‹settings.xmlæ–‡ä»¶æ·»åŠ å¦‚ä¸‹ï¼š

  &lt;server&gt;
	&lt;id&gt;tomcat&lt;/id&gt;
	&lt;username&gt;tomcat&lt;/username&gt;
	&lt;password&gt;tomcat&lt;/password&gt;
  &lt;/server&gt;    å…¶ä¸­&lt;id&gt;tomcat&lt;/id&gt; ä¸pom.xml æ–‡ä»¶ä¸­&lt;server&gt;tomcat&lt;/server&gt; è¦ä¸€è‡´
</code></pre></div></div>

<ul>
  <li>
    <p>è¿›å…¥â€œç³»ç»Ÿç®¡ç†â€-&gt;â€œæ’ä»¶ç®¡ç†â€</p>

    <p>1.é€‰æ‹©â€œå¯é€‰æ’ä»¶â€tabé¡µï¼Œæ‰¾åˆ°â€œDeploy to container Pluginâ€æ’ä»¶å¹¶å®‰è£…ï¼Œä¸º
   Jenkinséƒ¨ç½²tomcatå·¥ç¨‹æ‰€ç”¨</p>
  </li>
  <li>å›åˆ°Jenkinsé¦–é¡µï¼Œç‚¹å‡»â€œæ–°Jobâ€ï¼Œè¾“å…¥jobåç§°å¦‚ï¼šMavenWebï¼Œé€‰æ‹©â€œæ„å»ºä¸€ä¸ªmaven2/3é¡¹ç›®â€</li>
  <li>é€‰æ‹©ä»»åŠ¡â€œMavenWebâ€ï¼Œç‚¹å‡»â€œé…ç½®â€è¿›å…¥ä»»åŠ¡é…ç½®ç•Œé¢ï¼Œæºä»£ç ç®¡ç†ä¸­é€‰æ‹©git,å¹¶è¾“å…¥ä»“åº“è·¯å¾„å¦‚ï¼š/home/git/MavenWeb/mytestï¼ŒBranches to buildæ ¹æ®è‡ªå·±éœ€è¦è¾“å…¥ï¼Œè¿™é‡Œæˆ‘å–å¾—ä¸»åˆ†æ”¯ä»£ç ï¼Œè¾“å…¥çš„ä¸ºmaster</li>
  <li>
    <p>â€œæ„å»ºè§¦å‘å™¨â€é€‰æ‹©é¡¹ä¸‹æˆ‘é€‰æ‹©çš„ä¸ºâ€œPoll SCMâ€ï¼Œå«ä¹‰ä¸ºåœ¨æŒ‡å®šä½œä¸šæ—¶é—´å†…æœ‰ä»£ç æ›´æ–°çš„æ—¶å€™å»å–ä»£ç ï¼Œè¿™é‡Œâ€Build periodicallyâ€œå«ä¹‰ä¸ºä¸ç®¡æ˜¯å¦æœ‰ä»£ç æ›´æ–°åœ¨æŒ‡å®šä½œä¸šæ—¶é—´å†…éƒ½å»å–ä»£ç ï¼Œâ€Build whenever a SNAPSHOT dependency is builtâ€œå«ä¹‰ä¸ºå½“æ„å»ºæˆåŠŸåï¼Œé¡¹ç›®jaråŒ…ä¼šå‘åˆ°mavenäºŒæ–¹åº“ä¸Šå»
-â€æ—¥ç¨‹è¡¨â€œæˆ‘è¿™é‡Œé…çš„æ˜¯<em>/1 * * * *ï¼Œä»£è¡¨æ¯éš”ä¸€åˆ†é’Ÿå–ä¸€æ¬¡ï¼Œè¿™é‡Œäº”ä¸ª * å·ä»å·¦åˆ°å³åˆ†åˆ«
åˆ† æ—¶ æ—¥ æœˆ å¹´ï¼Œç›¸åŒ * å·æ®µå†…ç”¨â€,â€œå·éš”å¼€ï¼Œå¦‚ï¼š</em> * 8,20 * * *å«ä¹‰ä¸ºæ¯å¤©8ç‚¹ã€20ç‚¹å–ä»£ç 
-â€æ„å»ºåæ“ä½œâ€œEditable Email NOtificationâ€ å…¶ä¸­Project Recipient List
 å¯ä»¥é…ç½®æ”¶ä»¶äººä¿¡ç®±ï¼Œç‚¹å‡»â€œé«˜çº§â€ï¼Œâ€œAdd a Triggerâ€ä¸­å¯ä»¥é€‰æ‹©å¯¹åº”è§¦å‘å™¨ï¼Œæˆ‘è¿™é‡Œç”¨åˆ°äº†æ„å»ºå¤±è´¥(Failure),å’Œæµ‹è¯•æŠ¥é”™(ç³»ç»Ÿä¸ç¨³å®šUnstable)ä¸¤é¡¹ï¼Œæ”¶ä»¶äººé€‰æ‹©äº†â€œSend To Recipient Listâ€å’Œæäº¤è€…â€œSend To Committersâ€</p>
  </li>
  <li>â€œDeploy war/ear to a containerâ€ ä¸­â€œWAR/EAR filesâ€è¾“å…¥target/mytest.warï¼Œâ€œContext pathâ€è¾“å…¥MyAppï¼ˆä¸ºé¡¹ç›®è®¿é—®contextPathï¼‰ï¼Œâ€œContainerâ€æˆ‘è¿™é‡Œç”¨çš„tomcat6ï¼Œæ‰€ä»¥é€‰æ‹©tomcat6ï¼Œâ€œTomcat URLâ€ä¸­è¾“å…¥tomcatè®¿é—®åœ°å€å¦‚ï¼šhttp://192.168.4.19:8001</li>
  <li>gitä¸Šå»ºç«‹ä»“åº“å°†æœ¬åœ°ç°æœ‰Maven+junit webé¡¹ç›®pushåˆ°gitä»“åº“ï¼Œæ‰“å¼€Jenkinsä¸»é¡µè¿›å…¥MavenPrjä»»åŠ¡ï¼Œå‡ åˆ†é’Ÿåå°±èƒ½çœ‹åˆ°æ„å»ºä»»åŠ¡åŠç»“æœï¼Œ</li>
  <li>æ„å»ºæˆåŠŸåè¾“å…¥http://192.168.4.19:8001/MyAppå³å¯è®¿é—®é¡¹ç›®é¦–é¡µ</li>
</ul>
:ET