I"¶4<div class="code fl">
    <dl>
    <dt>ç›®å½•</dt>
    <dd>
    <ol>
        <li><a href="#1">ç®€ä»‹</a></li>
        <li><a href="#2">ä¸‹è½½å®‰è£…</a></li>
        <li><a href="#3">ä¸€ä¸ªç®€å•çš„æ¨¡ç‰ˆ</a></li>
        <li><a href="#4">è¿è¡Œæµ‹è¯•</a></li>
        <li><a href="#5">JUnit4çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯æ–­è¨€</a></li>
        <li><a href="#6">å°ç»“</a></li>
    </ol>
    </dd>
    </dl>
</div>

<h3 id="ä¸€ç®€ä»‹"><a name="1"></a>ä¸€ã€ç®€ä»‹</h3>

<p>JUnitæ˜¯ä¸€ä¸ªJavaè¯­è¨€çš„å•å…ƒæµ‹è¯•æ¡†æ¶ã€‚å®ƒç”±Kent Beckå’ŒErich Gammaå»ºç«‹ï¼Œé€æ¸æˆä¸ºæºäºKent Beckçš„sUnitçš„xUnitå®¶æ—ä¸­ä¸ºæœ€æˆåŠŸçš„ä¸€ä¸ªã€‚æ¥è‡ªJUnitçš„ä½“éªŒå¯¹æµ‹è¯•é©±åŠ¨å¼€å‘æ˜¯å¾ˆé‡è¦çš„ï¼Œæ‰€ä»¥ä¸€äº› JUnitçŸ¥è¯†ç»å¸¸ å’Œæµ‹è¯•é©±åŠ¨å¼€å‘çš„è®¨è®ºèåˆåœ¨ä¸€èµ·ã€‚å¯ä»¥å‚è€ƒKent Beckçš„ <a href="http://book.douban.com/subject/1771049/">ã€ŠTest-Driven Development: By Exampleã€‹</a>ä¸€ä¹¦ï¼ˆæœ‰ä¸­æ–‡ç‰ˆå’Œå½±å°ç‰ˆï¼‰ã€‚</p>

<p>æœ¬æ–‡ï¼Œå¯¹JUnit4çš„ä¸‹è½½å®‰è£…ã€åŸºæœ¬æµ‹è¯•æ–¹æ³•åŠè¿è¡Œï¼Œé…åˆå®ä¾‹è¿›è¡ŒåŸºç¡€ä»‹ç»ã€‚å¸®åŠ©è¯»è€…çœ‹å®Œä¹‹åï¼Œå°±å¯ä»¥å°†JUnit4è¿ç”¨åˆ°å•å…ƒæµ‹è¯•ä¸­å»ã€‚è€ŒJUnit4çš„æ›´å¤šåŠŸèƒ½å¯ä»¥å‚è€ƒåç»­çš„<a href="junit-usage-2.html">JUnit4ä½¿ç”¨è¿›é˜¶äºŒ</a>ã€‚</p>

<h3 id="äºŒä¸‹è½½å®‰è£…"><a name="2"></a>äºŒã€ä¸‹è½½å®‰è£…</h3>

<p>JUnitå½“å‰ç‰ˆæœ¬æ˜¯4.11ï¼Œå¦‚æœï¼Œä½ çš„å·¥ç¨‹æ˜¯ä½¿ç”¨Mavenè¿›è¡Œç®¡ç†æ„å»ºï¼Œé‚£ä¹ˆåªéœ€è¦åœ¨å·¥ç¨‹çš„pom.xmlæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä¾èµ–ä¿¡æ¯ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;dependency&gt;
  		&lt;groupId&gt;junit&lt;/groupId&gt;
  		&lt;artifactId&gt;junit&lt;/artifactId&gt;
  		&lt;version&gt;4.11&lt;/version&gt;
  		&lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre></div></div>

<p>å¦åˆ™ï¼Œåœ¨ä½ çš„æµ‹è¯•classpathä¸­æ”¾ç½®ä¸‹é¢ä¸¤ä¸ªjar:<code class="language-plaintext highlighter-rouge">junit.jar</code>å’Œ<code class="language-plaintext highlighter-rouge">hamcrest-core.jar</code>ï¼Œè¿™ä¸¤ä¸ªjarå¯ä»¥åœ¨<a href="http://search.maven.org/">è¿™é‡Œ</a>æ‰¾åˆ°å¹¶ä¸‹è½½ã€‚</p>

<h3 id="ä¸‰ä¸€ä¸ªç®€å•çš„æ¨¡ç‰ˆ"><a name="3"></a>ä¸‰ã€ä¸€ä¸ªç®€å•çš„æ¨¡ç‰ˆ</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package com.example.foo;

import static org.junit.Assert.assertEquals;

import org.junit.Test;
import org.junit.Ignore;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

/**
 * Tests for {@link Foo}.
 *
 * @author user@example.com (John Doe)
 */
@RunWith(JUnit4.class)
public class FooTest {

	@Test
	public void thisAlwaysPasses() {
	}

	@Test
	@Ignore
	public void thisIsIgnored() {
	}
}
</code></pre></div></div>

<p>è¿™ä¸ªæ¨¡ç‰ˆæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼</p>

<ul>
  <li>
    <p>éœ€è¦æµ‹è¯•çš„æ–¹æ³•ï¼Œåªéœ€è¦é€šè¿‡<code class="language-plaintext highlighter-rouge">@Test</code>æ ‡æ³¨å‡ºæ¥å°±å¯ä»¥äº†ã€‚</p>
  </li>
  <li>
    <p>æµ‹è¯•ç±»åªéœ€è¦æ·»åŠ <code class="language-plaintext highlighter-rouge">@RunWith</code>æ³¨é‡Šï¼Œä¸å†éœ€è¦ç»§æ‰¿<code class="language-plaintext highlighter-rouge">junit.framework.TestCase</code>è¿™ä¸ªçˆ¶ç±»äº†ã€‚</p>
  </li>
</ul>

<p>å½“ç„¶äº†ï¼ŒJUnit4è¿˜æä¾›äº†å¾ˆå¤šç‰¹è‰²åŠŸèƒ½ï¼Œåé¢æˆ‘ä»¬ä¼šä¸€ä¸€ä»‹ç»ã€‚</p>

<h3 id="å››è¿è¡Œæµ‹è¯•"><a name="4"></a>å››ã€è¿è¡Œæµ‹è¯•</h3>

<ul>
  <li>
    <p>åœ¨å‘½ä»¤è¡Œï¼Œå¯¹å†™å¥½çš„æµ‹è¯•ç±»ï¼Œè¿›è¡Œæµ‹è¯•å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸‹é¢ä¸€ä¸ªå‘½ä»¤å°±okäº†ï¼š</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  java -cp .:/usr/share/java/junit.jar org.junit.runner.JUnitCore [test class name]
</code></pre></div>    </div>
  </li>
  <li>
    <p>åœ¨IDEé‡Œé¢è¿›è¡Œæµ‹è¯•å°±æ›´ç®€å•äº†ï¼Œ<code class="language-plaintext highlighter-rouge">Netbeans</code>, <code class="language-plaintext highlighter-rouge">Eclipse</code> å’Œ <code class="language-plaintext highlighter-rouge">IntelliJ Idea</code>éƒ½å†…ç½®äº†å›¾å½¢åŒ–çš„æµ‹è¯•è¿è¡Œå™¨ã€‚</p>
  </li>
</ul>

<p>æµ‹è¯•ç±»å¦‚ä½•è¿è¡Œï¼Œæ˜¯ç”±<code class="language-plaintext highlighter-rouge">@RunWith</code>æ³¨é‡Šæ¥å†³å®šã€‚JUnit4å½“å‰ç‰ˆæœ¬çš„é»˜è®¤åŸºæœ¬æµ‹è¯•æ–¹å¼æ˜¯<code class="language-plaintext highlighter-rouge">JUnit4.class</code>ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–ç‰¹æ®Šçš„ï¼Œæˆ‘ä»¬å°†åœ¨<a href="junit-usage-4.html">JUnit4 ä½¿ç”¨è¿›é˜¶å››</a>ä¸­è¿›è¡Œä»‹ç»ã€‚</p>

<h3 id="äº”junit4çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯æ–­è¨€"><a name="5"></a>äº”ã€JUnit4çš„æ ¸å¿ƒä¹‹ä¸€æ˜¯æ–­è¨€</h3>

<p>JUnit4æ¡†æ¶ä¸»è¦æ˜¯é€šè¿‡æ–­è¨€æ¥åˆ¤æ–­è¿è¡Œç»“æœæ­£ç¡®ä¸å¦ï¼Œé’ˆå¯¹Javaçš„åŸç”Ÿç±»å‹(long,boolean,floatâ€¦)æˆ–è€…Objectsæˆ–è€…æ•°ç»„ï¼ŒJUnitéƒ½æä¾›äº†å¯¹åº”çš„æ–­è¨€æ–¹æ³•ã€‚</p>

<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªä¾‹å­ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import static org.hamcrest.CoreMatchers.allOf;
import static org.hamcrest.CoreMatchers.anyOf;
import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.not;
import static org.hamcrest.CoreMatchers.sameInstance;
import static org.hamcrest.CoreMatchers.startsWith;
import static org.junit.Assert.assertThat;
import static org.junit.matchers.JUnitMatchers.both;
import static org.junit.matchers.JUnitMatchers.containsString;
import static org.junit.matchers.JUnitMatchers.everyItem;
import static org.junit.matchers.JUnitMatchers.hasItems;

import java.util.Arrays;

import org.hamcrest.core.CombinableMatcher;
import org.junit.Test;

public class AssertTests {
  @Test
  public void testAssertArrayEquals() {
    byte[] expected = "trial".getBytes();
    byte[] actual = "trial".getBytes();
    org.junit.Assert.assertArrayEquals("failure - byte arrays not same", expected, actual);
  }

  @Test
  public void testAssertEquals() {
    org.junit.Assert.assertEquals("failure - strings not same", 5l, 5l);
  }

  @Test
  public void testAssertFalse() {
    org.junit.Assert.assertFalse("failure - should be false", false);
  }

  @Test
  public void testAssertNotNull() {
    org.junit.Assert.assertNotNull("should not be null", new Object());
  }

  @Test
  public void testAssertNotSame() {
    org.junit.Assert.assertNotSame("should not be same Object", new Object(), new Object());
  }

  @Test
  public void testAssertNull() {
    org.junit.Assert.assertNull("should be null", null);
  }

  @Test
  public void testAssertSame() {
    Integer aNumber = Integer.valueOf(768);
    org.junit.Assert.assertSame("should be same", aNumber, aNumber);
  }

  // JUnit Matchers assertThat
  @Test
  public void testAssertThatBothContainsString() {
    org.junit.Assert.assertThat("albumen", both(containsString("a")).and(containsString("b")));
  }

  @Test
  public void testAssertThathasItemsContainsString() {
    org.junit.Assert.assertThat(Arrays.asList("one", "two", "three"), hasItems("one", "three"));
  }

  @Test
  public void testAssertThatEveryItemContainsString() {
    org.junit.Assert.assertThat(Arrays.asList(new String[] { "fun", "ban", "net" }), everyItem(containsString("n")));
  }

  // Core Hamcrest Matchers with assertThat
  @Test
  public void testAssertThatHamcrestCoreMatchers() {
    assertThat("good", allOf(equalTo("good"), startsWith("good")));
    assertThat("good", not(allOf(equalTo("bad"), equalTo("good"))));
    assertThat("good", anyOf(equalTo("bad"), equalTo("good")));
    assertThat(7, not(CombinableMatcher.&lt;Integer&gt; either(equalTo(3)).or(equalTo(4))));
    assertThat(new Object(), not(sameInstance(new Object())));
  }
}
</code></pre></div></div>

<p><strong>æ³¨æ„ï¼š</strong></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">assertEquals</code>å’Œ<code class="language-plaintext highlighter-rouge">assertSame</code> çš„åŒºåˆ«åœ¨äºï¼Œå‰è€…æ˜¯è°ƒç”¨<code class="language-plaintext highlighter-rouge">æœŸå¾…å€¼</code>çš„<code class="language-plaintext highlighter-rouge">equals</code>æ–¹æ³•æ¥åˆ¤æ–­<code class="language-plaintext highlighter-rouge">çœŸå®å€¼</code>(<code class="language-plaintext highlighter-rouge">expected.equals(actual)</code>)ï¼Œè€Œåè€…æ˜¯åˆ¤æ–­<code class="language-plaintext highlighter-rouge">æœŸå¾…å€¼</code>å’Œ<code class="language-plaintext highlighter-rouge">çœŸå®å€¼</code>æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡(<code class="language-plaintext highlighter-rouge">expected == actual</code>)ã€‚</li>
  <li>ä¾‹å­ä¸­ï¼Œè¿™æ ·è°ƒç”¨<code class="language-plaintext highlighter-rouge">org.junit.Assert.assertEquals("failure - strings not same", 5l, 5l);</code>æ˜¯ä¸æ˜¯è§‰å¾—æœ‰ç‚¹ç´¯ï¼Œæ²¡å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡JDK1.5ä¸­çš„é™æ€å¯¼å…¥(<code class="language-plaintext highlighter-rouge">import static</code>)æ¥ç®€åŒ–è¿™ä¸€åˆ‡ï¼Œçœ‹ä¸‹é¢çš„ä»£ç ã€‚</li>
</ol>

<p>ç®€åŒ–åçš„ä¾‹å­ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>package tangzhi.mytest;

import static org.hamcrest.CoreMatchers.allOf;
import static org.hamcrest.CoreMatchers.anyOf;
import static org.hamcrest.CoreMatchers.equalTo;
import static org.hamcrest.CoreMatchers.not;
import static org.hamcrest.CoreMatchers.sameInstance;
import static org.hamcrest.CoreMatchers.startsWith;
import static org.junit.Assert.assertThat;
import static org.junit.matchers.JUnitMatchers.both;
import static org.junit.matchers.JUnitMatchers.containsString;
import static org.junit.matchers.JUnitMatchers.everyItem;
import static org.junit.matchers.JUnitMatchers.hasItems;

import static org.junit.Assert.*;
    
import java.util.Arrays;

import org.hamcrest.core.CombinableMatcher;
import org.junit.Test;

public class AppTest {
  @Test
  public void testAssertArrayEquals() {
    byte[] expected = "trial".getBytes();
    byte[] actual = "trial".getBytes();
    assertArrayEquals("failure - byte arrays not same", expected, actual);
  }

  @Test
  public void testAssertEquals() {
    assertEquals("failure - strings not same", 5l, 5l);
  }

  @Test
  public void testAssertFalse() {
    assertFalse("failure - should be false", false);
  }

  @Test
  public void testAssertNotNull() {
    assertNotNull("should not be null", new Object());
  }

  @Test
  public void testAssertNotSame() {
    assertNotSame("should not be same Object", new Object(), new Object());
  }

  @Test
  public void testAssertNull() {
    assertNull("should be null", null);
  }

  @Test
  public void testAssertSame() {
    Integer aNumber = Integer.valueOf(768);
    assertSame("should be same", aNumber, aNumber);
  }

  // JUnit Matchers assertThat
  @Test
  public void testAssertThatBothContainsString() {
    assertThat("albumen", both(containsString("a")).and(containsString("b")));
  }

  @Test
  public void testAssertThathasItemsContainsString() {
    assertThat(Arrays.asList("one", "two", "three"), hasItems("one", "three"));
  }

  @Test
  public void testAssertThatEveryItemContainsString() {
    assertThat(Arrays.asList(new String[] { "fun", "ban", "net" }), everyItem(containsString("n")));
  }

  // Core Hamcrest Matchers with assertThat
  @Test
  public void testAssertThatHamcrestCoreMatchers() {
    assertThat("good", allOf(equalTo("good"), startsWith("good")));
    assertThat("good", not(allOf(equalTo("bad"), equalTo("good"))));
    assertThat("good", anyOf(equalTo("bad"), equalTo("good")));
    assertThat(7, not(CombinableMatcher.&lt;Integer&gt; either(equalTo(3)).or(equalTo(4))));
    assertThat(new Object(), not(sameInstance(new Object())));
  }
}
</code></pre></div></div>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é™æ€å¯¼å…¥äº†<code class="language-plaintext highlighter-rouge">import static org.junit.Assert.*;</code>åï¼Œåœ¨æµ‹è¯•ç±»ä¸­å°±å¯ä»¥ç›´æ¥ä½¿ç”¨<code class="language-plaintext highlighter-rouge">assertEquals</code>è¿™äº›æ–¹æ³•äº†ã€‚æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼</p>

<p><strong>å¸¸ç”¨çš„æ–­è¨€æ–¹æ³•æœ‰ï¼š</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assertTrue([message ,] condition);
assertFalse([message ,] condition);
assertEquals([message ,] expected, actual);
assertNotEquals([message ,] first, second);
assertArrayEquals([message ,] expecteds, actuals);
assertNotNull([message ,] object);
assertNull([message ,] object);
assertSame([message ,] expected, actual);
assertNotSame([message ,] unexpected, actual);
assertThat([message ,] actual, matcher);
</code></pre></div></div>

<p><strong>ä»ä¸Šé¢çš„åˆ—è¡¨å¯ä»¥çœ‹å‡ºï¼š</strong></p>

<ol>
  <li>
    <p>å¤§éƒ¨åˆ†æ–­è¨€æ–¹æ³•çš„å‚æ•°é¡ºåºéƒ½æ˜¯:<code class="language-plaintext highlighter-rouge">[Message] æœŸå¾…å€¼  çœŸå®å€¼</code>ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªå¯é€‰å­—ç¬¦ä¸²ï¼Œå‡ºé”™æ—¶çš„æè¿°ä¿¡æ¯ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯æœŸå¾…å€¼ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯çœŸå®å€¼ã€‚</p>
  </li>
  <li>
    <p>åªæœ‰ä¸€ä¸ªæ–­è¨€æ–¹æ³•<code class="language-plaintext highlighter-rouge">assertThat</code>çš„å‚æ•°é¡ºåºä¾‹å¤–ï¼šå¯é€‰çš„å‡ºé”™æç¤ºä¿¡æ¯ã€çœŸå®å€¼å’Œä¸€ä¸ª<code class="language-plaintext highlighter-rouge">Matcher</code>å¯¹è±¡ã€‚å®ƒå‚æ•°ä¸­çš„æœŸå¾…å€¼ä¸çœŸå®å€¼çš„é¡ºåºï¼Œä¸å…¶ä»–æ–­è¨€æ–¹æ³•çš„å‚æ•°é¡ºåºæ­£å¥½ç›¸åã€‚</p>
  </li>
</ol>

<p>è¿™ä¸ª<code class="language-plaintext highlighter-rouge">assertThat</code>æ–¹æ³•æ˜¯æ–­è¨€ä¸­çš„ç¥å™¨ï¼Œåé¢æˆ‘ä»¬ä¼šåœ¨<a href="junit-usage-3.html">è¿›é˜¶ä¸‰</a>ä»‹ç»ï¼æ•¬è¯·æœŸå¾…å§ï¼</p>

<h3 id="å…­å°ç»“"><a name="6"></a>å…­ã€å°ç»“</h3>

<p>å‰é¢æˆ‘ä»¬ä»‹ç»äº†JUnit4çš„åŸºæœ¬çŸ¥è¯†ã€‚è‡³æ­¤ï¼Œä½ å·²ç»å¯ä»¥ä½¿ç”¨JUnit4è¿›è¡Œä»£ç æµ‹è¯•äº†ã€‚å¦‚æœä½ æƒ³çŸ¥é“æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ç»§ç»­çœ‹çœ‹<a href="junit-usage-2.html">JUnit ä½¿ç”¨è¿›é˜¶äºŒ</a>ã€‚</p>

:ET