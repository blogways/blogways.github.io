I"»<h2 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h2>

<p>å±€åŸŸç½‘å†…å¤šå°æœåŠ¡å™¨éƒ½éœ€è¦å®‰è£…åº”ç”¨ï¼Œä½†æ˜¯åªæœ‰ä¸€å°æœºå™¨å¯ä»¥è¿æ¥å…¬ç½‘ï¼Œé‚£ä¹ˆéœ€è¦æŠŠè¿™å°æœºå™¨ä½œä¸ºyumæºä½¿ç”¨ï¼Œå…¶ä»–ä¸èƒ½è¿æ¥å…¬ç½‘çš„æœºå™¨å°†yumæºçš„åœ°å€æ˜ å°„åˆ°è¿™å°æœºå™¨ï¼Œä»¥ä¾¿å®ç°ä¸è¿æ¥å…¬ç½‘ä¸€æ ·çš„æ•ˆæœã€‚</p>

<h2 id="æ­å»ºæ­¥éª¤">æ­å»ºæ­¥éª¤</h2>

<p>ã€åœ¨yumæºæœåŠ¡å™¨ï¼ˆ192.168.137.131ï¼‰ä¸Šå®‰è£…ã€‘</p>

<p>å®‰è£…yumæºåº“</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install createrepo
</code></pre></div></div>

<p>å®‰è£…httpæœåŠ¡å™¨å¹¶å¯åŠ¨</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum install httpd
service httpd start
</code></pre></div></div>

<p>åˆ›å»ºå­˜æ”¾rpmçš„yumæºä»“åº“</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>createrepo /var/www/html/iot/
</code></pre></div></div>

<p>ä¸‹è½½rpmåŒ…åˆ°ä»“åº“ç›®å½•ä¸‹çš„â€œdownloaddirâ€ä¸­</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum -y install telnet --downloadonly --downloaddir=telnet
</code></pre></div></div>

<p>æŸ¥çœ‹ä¸€ä¸‹rpmåŒ…æ˜¯å¦æ­£å¸¸ä¸‹è½½</p>

<p><img src="/images/zhaojiajun/2017-12-06-yum-1.png" alt="1" /></p>

<p>æ›´æ–°ä»“åº“ç´¢å¼•ï¼Œå®¢æˆ·ç«¯çš„æœºå™¨æ‰èƒ½è·å–åˆ°ï¼Œæ¯æ¬¡æ–°å¢äº†rpmåŒ…éƒ½éœ€è¦æ‰§è¡Œä¸€ä¸‹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>createrepo --update /var/www/html/iot/
</code></pre></div></div>

<p>æµ‹è¯•ä¸€ä¸‹httpæœåŠ¡æ–‡ä»¶ä¸‹è½½æ˜¯å¦æˆåŠŸ http://192.168.137.131/iot/telnet/</p>

<p><img src="/images/zhaojiajun/2017-12-06-yum-2.png" alt="2" /></p>

<p>ã€åœ¨å®¢æˆ·ç«¯æœºå™¨ä¸Šï¼ˆ192.168.137.132ï¼‰é…ç½®ã€‘</p>

<p>ç¼–è¾‘ä»“åº“åœ°å€æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /etc/yum.repos.d/
</code></pre></div></div>

<p>æŠŠåŸæœ‰çš„å¤‡ä»½</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mv *.repo /bak
</code></pre></div></div>

<p>æ–°å¢repoæ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi CentOS-Base.repo
</code></pre></div></div>

<p>å†…å®¹å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[iot]
name=iot
baseurl=http://192.168.137.131/iot/
enabled=1
gpgcheck=0
</code></pre></div></div>

<p>æ¸…ç©ºyumæºçš„ç¼“å­˜ï¼Œæ¯æ¬¡æ–°å¢äº†rpmåŒ…éƒ½éœ€è¦æ‰§è¡Œä¸€ä¸‹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yum clean all
</code></pre></div></div>

<p><img src="/images/zhaojiajun/2017-12-06-yum-3.png" alt="3" /></p>

<p>å¯èƒ½å‡ºç°çš„é—®é¢˜è§£å†³æ–¹æ³•</p>

<p>yumè§£é”</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf /var/run/yum.pid
</code></pre></div></div>

<p>é…ç½®httpd</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/httpd/conf/httpd.conf
</code></pre></div></div>

<p>ä¿®æ”¹å¦‚ä¸‹å†…å®¹</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ServerAdmin root@192.168.137.131
ServerName 192.168.137.131
</code></pre></div></div>

<p>æµ‹è¯•ä¸€ä¸‹httpdçš„é…ç½®è„šæœ¬</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>httpd -t 
</code></pre></div></div>

<p>æ˜¾ç¤º</p>

<p>Syntax OK</p>

<p>You have new mail in /var/spool/mail/root</p>

:ET