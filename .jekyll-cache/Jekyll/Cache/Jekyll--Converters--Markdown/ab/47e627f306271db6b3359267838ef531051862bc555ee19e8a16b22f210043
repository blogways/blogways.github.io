I"Ò+<h2 id="ä¸€é—®é¢˜åœºæ™¯">ä¸€ã€é—®é¢˜åœºæ™¯</h2>
<p>ç°åœ¨åšçš„é¡¹ç›®è¯´èµ·æ¥åº”è¯¥ç®—æˆ‘çš„å¤„å¥³é¡¹ç›®ã€‚é¦–æ¬¡å¤„ç†å¤æ‚è¡¨å•ï¼Œå‚æ•°å°è£…å·²ç»è®©æˆ‘æœ‰ç‚¹æªæ‰‹ä¸åŠï¼Œå‚æ•°çš„åˆæ³•æ€§éªŒè¯æ›´æ˜¯è®©äººå¤´ç–¼ã€‚</p>

<p>ä¹‹å‰ç®€å•è¡¨å•å‚æ•°æ ¡éªŒéƒ½æ˜¯å¾’æ‰‹å†™jsï¼Œç®€å•è¡¨å•éªŒè¯å°šå¯ï¼Œå¤æ‚è¡¨å•çš„éªŒè¯å¯èƒ½æ˜¯è¦å¦è¾Ÿè¹Šå¾„äº†ã€‚</p>

<p>ç½‘ä¸Šä¸€æœï¼Œè¡¨å•éªŒè¯æ’ä»¶ç³ç…æ»¡ç›®ï¼Œè¦ä¸æ€ä¹ˆè¯´å’±ä»¬ç°åœ¨éƒ½æ˜¯ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šå¼€å‘ã€‚</p>

<p>ä»Šå¤©è¦ä»‹ç»çš„æ˜¯jQueryçš„validateæ’ä»¶ã€‚Validateç»™æˆ‘çš„ä½¿ç”¨æ„Ÿå—æ˜¯ï¼šä½¿ç”¨ç®€å•ç²—æš´ï¼Œè§„åˆ™å†…ç½®ä¸°å¯Œï¼Œéšå¿ƒæ‰€æ¬²æ˜“äºæ‰©å±•ã€‚</p>

<h2 id="äºŒ-å¿«é€Ÿå¼€å§‹">äºŒã€ å¿«é€Ÿå¼€å§‹</h2>

<p><strong>æ‰¯äº†é‚£ä¹ˆå¤šï¼ŒåŠ¨æ‰‹è¯•è¯•å§ï¼</strong></p>

<h3 id="21-å¼•å…¥jqueryå’Œvalidate">2.1 å¼•å…¥jQueryå’ŒValidate</h3>
<ul>
  <li>æœ¬é¡¹ç›®ä¸­jQueryç‰ˆæœ¬ä¸ºv1.12.4ï¼Œvalidateç‰ˆæœ¬ä¸ºv1.17.0</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;script type="text/javascript" src="${resourceRootPath}/static/frame/jquery/dist/jquery.min.js"&gt;&lt;/script&gt;
&lt;script stype="text/javascript" src="${resourceRootPath}/static/frame/jquery-validation/dist/jquery.validate.js"&gt;&lt;/script&gt;
</code></pre></div></div>
<h3 id="22-ä½¿ç”¨å‰çƒ­èº«">2.2 ä½¿ç”¨å‰çƒ­èº«</h3>

<ul>
  <li>è¡¨å•éªŒè¯æ ¸å¿ƒæ— éä»¥ä¸‹ä¸¤ç‚¹ï¼š</li>
</ul>

<h5 id="1-è§„åˆ™rule">1. è§„åˆ™Rule</h5>

<p>validateå†…ç½®é»˜è®¤è§„åˆ™ï¼š</p>

<table>
  <thead>
    <tr>
      <th>åºå·</th>
      <th>è§„åˆ™</th>
      <th>æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>required:true</td>
      <td>å¿…é¡»è¾“å…¥çš„å­—æ®µã€‚</td>
    </tr>
    <tr>
      <td>2</td>
      <td>remote:â€check.phpâ€</td>
      <td>ä½¿ç”¨ ajax æ–¹æ³•è°ƒç”¨ check.php éªŒè¯è¾“å…¥å€¼ã€‚</td>
    </tr>
    <tr>
      <td>3</td>
      <td>email:true</td>
      <td>å¿…é¡»è¾“å…¥æ­£ç¡®æ ¼å¼çš„ç”µå­é‚®ä»¶ã€‚</td>
    </tr>
    <tr>
      <td>4</td>
      <td>url:true</td>
      <td>å¿…é¡»è¾“å…¥æ­£ç¡®æ ¼å¼çš„ç½‘å€ã€‚</td>
    </tr>
    <tr>
      <td>5</td>
      <td>date:true</td>
      <td>å¿…é¡»è¾“å…¥æ­£ç¡®æ ¼å¼çš„æ—¥æœŸã€‚æ—¥æœŸæ ¡éªŒ ie6 å‡ºé”™ï¼Œæ…ç”¨ã€‚</td>
    </tr>
    <tr>
      <td>6</td>
      <td>dateISO:true</td>
      <td>å¿…é¡»è¾“å…¥æ­£ç¡®æ ¼å¼çš„æ—¥æœŸï¼ˆISOï¼‰ï¼Œä¾‹å¦‚ï¼š2009-06-23ï¼Œ1998/01/22ã€‚åªéªŒè¯æ ¼å¼ï¼Œä¸éªŒè¯æœ‰æ•ˆæ€§ã€‚</td>
    </tr>
    <tr>
      <td>7</td>
      <td>number:true</td>
      <td>å¿…é¡»è¾“å…¥åˆæ³•çš„æ•°å­—ï¼ˆè´Ÿæ•°ï¼Œå°æ•°ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>8</td>
      <td>digits:true</td>
      <td>å¿…é¡»è¾“å…¥æ•´æ•°ã€‚</td>
    </tr>
    <tr>
      <td>9</td>
      <td>creditcard:</td>
      <td>å¿…é¡»è¾“å…¥åˆæ³•çš„ä¿¡ç”¨å¡å·ã€‚</td>
    </tr>
    <tr>
      <td>10</td>
      <td>equalTo:â€#fieldâ€</td>
      <td>è¾“å…¥å€¼å¿…é¡»å’Œ #field ç›¸åŒã€‚</td>
    </tr>
    <tr>
      <td>11</td>
      <td>accept:</td>
      <td>è¾“å…¥æ‹¥æœ‰åˆæ³•åç¼€åçš„å­—ç¬¦ä¸²ï¼ˆä¸Šä¼ æ–‡ä»¶çš„åç¼€ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>12</td>
      <td>maxlength:5</td>
      <td>è¾“å…¥é•¿åº¦æœ€å¤šæ˜¯ 5 çš„å­—ç¬¦ä¸²ï¼ˆæ±‰å­—ç®—ä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>13</td>
      <td>minlength:10</td>
      <td>è¾“å…¥é•¿åº¦æœ€å°æ˜¯ 10 çš„å­—ç¬¦ä¸²ï¼ˆæ±‰å­—ç®—ä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>14</td>
      <td>rangelength:[5,10]</td>
      <td>è¾“å…¥é•¿åº¦å¿…é¡»ä»‹äº 5 å’Œ 10 ä¹‹é—´çš„å­—ç¬¦ä¸²ï¼ˆæ±‰å­—ç®—ä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚</td>
    </tr>
    <tr>
      <td>15</td>
      <td>range:[5,10]</td>
      <td>è¾“å…¥å€¼å¿…é¡»ä»‹äº 5 å’Œ 10 ä¹‹é—´ã€‚</td>
    </tr>
    <tr>
      <td>16</td>
      <td>max:5</td>
      <td>è¾“å…¥å€¼ä¸èƒ½å¤§äº 5ã€‚</td>
    </tr>
    <tr>
      <td>17</td>
      <td>min:10</td>
      <td>è¾“å…¥å€¼ä¸èƒ½å°äº 10ã€‚</td>
    </tr>
  </tbody>
</table>

<h5 id="2-æç¤ºä¿¡æ¯message">2. æç¤ºä¿¡æ¯message</h5>

<p>validateå†…ç½®é»˜è®¤æç¤ºæ¶ˆæ¯ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>messages: {
    required: "This field is required.",
    remote: "Please fix this field.",
    email: "Please enter a valid email address.",
    url: "Please enter a valid URL.",
    date: "Please enter a valid date.",
    dateISO: "Please enter a valid date ( ISO ).",
    number: "Please enter a valid number.",
    digits: "Please enter only digits.",
    creditcard: "Please enter a valid credit card number.",
    equalTo: "Please enter the same value again.",
    maxlength: $.validator.format( "Please enter no more than {0} characters." ),
    minlength: $.validator.format( "Please enter at least {0} characters." ),
    rangelength: $.validator.format( "Please enter a value between {0} and {1} characters long." ),
    range: $.validator.format( "Please enter a value between {0} and {1}." ),
    max: $.validator.format( "Please enter a value less than or equal to {0}." ),
    min: $.validator.format( "Please enter a value greater than or equal to {0}." )
}
</code></pre></div></div>

<p>validateé»˜è®¤æç¤ºä½ç½®æ˜¯ä¸ºè¡¨å•å…ƒç´ åé¢ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>errorPlacement: function(error, element) {  
    error.appendTo(element.parent());  
}
</code></pre></div></div>

<ul>
  <li>å…¶ä»–ä¸€äº›å‚æ•°ï¼š</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	ignore: ":hidden",//å¿½ç•¥çš„å…ƒç´ 
    doNotHideMessage: true, // this option enables to show the error/success messages on tab switch.
	//é”™è¯¯æ¶ˆæ¯å®¹å™¨
    errorElement: 'span', // default input error message container
    //é”™è¯¯æ¶ˆæ¯class
	errorClass: 'help-block help-block-error', // default input error message class
    focusInvalid: false, // do not focus the last invalid input
    //é”™è¯¯æ¶ˆæ¯é«˜äº®æ˜¾ç¤º
	highlight: function highlightCbFunc(element) { // hightlight error inputs
      $(element)
        .closest('.form-group')
        .removeClass('has-success')
        .addClass('has-error');
      // set error class to the control group
    },
	//è¾“å…¥åˆæ³•å†…å®¹åå–æ¶ˆé«˜äº®æ˜¾ç¤º
    unhighlight: function unhighlightCbFunc(element) { // revert the change done by hightlight
      $(element)
        .closest('.form-group')
        .removeClass('has-error'); // set error class to the control group
    },

	//å¤±å»ç„¦ç‚¹äº‹ä»¶
    onfocusout: function(element) {
      $(element).valid();
    },

	//æŒ‰é”®å¼¹èµ·äº‹ä»¶
    onkeyup: function(element) {
      var currentValue = $(element).val();
      if (!$(element).valid()){
        $(element).val(currentValue.substr(0,currentValue.length-1));
      }
    }
</code></pre></div></div>
<h3 id="23-ç®€å•ä½¿ç”¨">2.3 ç®€å•ä½¿ç”¨</h3>

<p>äº†è§£ä¸Šé¢ä¸‰è¦ç´ å’Œä¸€äº›å‚æ•°åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç®€å•ä½¿ç”¨äº†ï¼ˆå…¶å®ç”šè‡³å¯ä»¥åªçŸ¥é“ä¸€äº›é»˜è®¤çš„è§„åˆ™å°±å¯ä»¥æ‹¿æ¥ä½¿ç”¨äº†ï¼‰ã€‚</p>

<p>é¡¹ç›®ä¸­æäº¤è¡¨å•å¤šä¸ºajaxæäº¤ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>

<ul>
  <li>å°†æ ¡éªŒè§„åˆ™å†™åˆ°æ§ä»¶ä¸­</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;form id="baseInfoForm"&gt;
	&lt;div class="form-group"&gt;
	    &lt;label class="control-label col-md-5"&gt;è´¦æˆ·åï¼ˆå¿…å¡«ï¼‰&lt;/label&gt;
	    &lt;div class="col-md-7"&gt;
	        &lt;select class="form-control input-sm select-remote" data-selectconf="account" name="account" required&gt;
	            &lt;option value=""&gt;&lt;/option&gt;
	        &lt;/select&gt;
	    &lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="form-group"&gt;
	    &lt;label class="control-label col-md-5"&gt;è®¡åˆ’åç§°ï¼ˆå¿…å¡«ï¼‰&lt;/label&gt;
	    &lt;div class="col-md-7"&gt;
	        &lt;input type="text" class="form-control-static" name="rateplanName" required /&gt;
	    &lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="form-group"&gt;
	    &lt;label class="control-label col-md-5"&gt;E-mailï¼ˆå¿…å¡«ï¼‰&lt;/label&gt;
	    &lt;div class="col-md-7"&gt;
	        &lt;input type="email" class="form-control-static" name="email" required /&gt;
	    &lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="form-group"&gt;
	    &lt;label class="control-label col-md-5"&gt;è´¦æˆ·è´¹ç”¨ï¼š&lt;/label&gt;
	    &lt;div class="col-mc-7"&gt;
	        &lt;input id="account_charge" type="number" name="ACCOUNT_CHARGE" min="0" step="0.01"/&gt;
	    &lt;/div&gt;
	&lt;/div&gt;
&lt;/form&gt;
</code></pre></div></div>

<ul>
  <li>æäº¤å‰éªŒè¯</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$('#baseInfoForm').valid();//é€šè¿‡éªŒè¯è¿”å›trueï¼Œä¸é€šè¿‡è¿”å›false
</code></pre></div></div>
<p><strong>æ˜¯ä¸æ˜¯ç®€å•ç²—æš´ï¼Ÿ</strong></p>

<h3 id="24-æ‰©å±•">2.4 æ‰©å±•</h3>

<blockquote>
  <p>ä¸šåŠ¡ä¸­æŸä¸ªè¡¨å•å…ƒç´ åªå…è®¸å¡«IPåœ°å€æˆ–è€…åŸŸåï¼Œé»˜è®¤è§„åˆ™é‡Œé¢æ²¡æœ‰æ€ä¹ˆåŠï¼Ÿæ²¡å…³ç³»ï¼Œvalidateå…·æœ‰éå¸¸è‰¯å¥½çš„æ‰©å±•æ€§ã€‚</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;form id="exampleForm"&gt;
	&lt;div class="form-group"&gt;
	    &lt;label class="control-label col-md-5"&gt;IPåœ°å€èŒƒå›´(å¿…å¡«)&lt;/label&gt;
	    &lt;div class="col-md-7"&gt;
	        &lt;input id="account_charge" type="text" name="ipRange" required /&gt;
	    &lt;/div&gt;
	&lt;/div&gt;
&lt;/form&gt;

</code></pre></div></div>

<ul>
  <li>é¦–å…ˆæ·»åŠ æ–¹æ³•ï¼ˆmethodï¼‰
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  jQuery.validator.addMethod("ipValidate", function (value, element) {
    var ipReg = /((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/;
    var domainReg = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/;
    return this.optional(element) || (ipReg.test(value) || (domainReg.test(value));
  }, 'è¯·è¾“å…¥ipæˆ–è€…åŸŸå');
</code></pre></div>    </div>
  </li>
  <li>æ·»åŠ è§„åˆ™(rule)
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rules : {
    ipRange : {//ipåœ°å€èŒƒå›´
      ipValidate:'è¯·è¾“å…¥ipæˆ–è€…åŸŸå'
    },
</code></pre></div>    </div>
  </li>
  <li>æ·»åŠ æ¶ˆæ¯
å…¶å®æˆ‘ä»¬åœ¨ä¸Šé¢å®šä¹‰æ–¹æ³•å’Œè§„åˆ™éƒ½å·²ç»å®šä¹‰äº†æç¤ºæ¶ˆæ¯ï¼Œæ­¤æ­¥éª¤å¯é€‰ã€‚
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  messages: {
      ipRange:"è¯·è¾“å…¥IPåœ°å€æˆ–è€…åŸŸå"
  }
</code></pre></div>    </div>
  </li>
  <li>å°†ä¸Šè¿°æ‰©å±•å†…å®¹å†™å…¥ jquery.validate.jsæˆ–è€…è‡ªå®šä¸€ä¸ªjsæ–‡ä»¶validate.extend.js,å»ºè®®åè€…
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  //å˜é‡myValidateOptsåŒ…å«äº†è‡ªå®šä¹‰çš„ä¸€äº›å±æ€§
  var validateOpts = $.extend(true, {}, myValidateOpts, {});
  //åˆå§‹åŒ–
  $('#exampleForm').validate(validateOpts);
  //éªŒè¯
  $('#exampleForm').valid();
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="ä¸‰å‚è€ƒæ–‡çŒ®">ä¸‰ã€å‚è€ƒæ–‡çŒ®</h2>
<ul>
  <li>http://www.runoob.com/jquery/jquery-plugin-validate.html</li>
</ul>
:ET